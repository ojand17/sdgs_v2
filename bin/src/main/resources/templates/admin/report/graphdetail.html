<!DOCTYPE html>
<html lang="en"
      xmlns:="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<meta name="_csrf" th:content="${_csrf.token}"/>
<meta name="_csrf_header" th:content="${_csrf.headerName}"/>
<head th:include="admin/layout :: header">
    <title th:text="SDG Report Graph"></title>
</head>
<body>
    <div th:include="admin/layout :: menu"></div>
    <div id="content">
        <div id="content-header">
            <div id="breadcrumb" class="lang_indo"> <a href="#" title="Ke Home" class="tip-bottom"><i class="icon-home"></i>Laporan / Grafik / Detail</a></div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div id="divsdg" style="width:100%;">

                </div>
                <div class="widget-box">
                    <div class="widget-title">
                        <span class="icon"><i class="icon-tasks"></i></span>
                        <h5 id="title">Detail Grafik Hasil Pelaporan</h5>
                    </div>
                    <div class="widget-content" style="background:#FFFFFF;">
                        <div class="pull-right" style="width:auto;">
                            <button id="btngrafik" class="btn btn-primary">Show Graphic</button>
                            <button id="btnexport" class="btn btn-success" style="margin-right:4px;">Export Excel</button>
                        </div><br><br>
                        <div style="width:100%;">
                            <table id="tabgrafik" class='table table-striped table-bordered'>
                                <thead></thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <div class="row-fluid">
                            <div class="span6">
                                <div id="container"></div>
                            </div>
                            <div class="span6">
                                <div id="barcontainer"></div>
                            </div>
                            <div class="span12">
                                <div id="compare"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div th:include="admin/layout :: footer"></div>
    <script th:inline="javascript">
        var lang = [[${lang}]];
        if (lang == null) {lang = "0";};
        var name = [[${name}]];
        var role = [[${role}]];
        $("#welcome").html("Welcome, "+name);
        var idindikator = [[${idindikator}]];
        var flag = [[${flag}]];

        //====================== Header Tabel ======================
        if (flag == "0") {
            $.ajax({
                url: urls + "cekgovmonper",
                type: 'get',
                data: "id_gov_indicator="+idindikator,
                dataType: 'json',
                cache: false,
                success: function (monper) {
                    // console.log(monper[0]);
                    percallback(monper[0]);
                    if (monper[0] == "yearly") {
                        headyearly();
                    } else if (monper[0] == "semesterly") {
                        headsemesterly();
                    } else {
                        headquarterly();
                    }
                }
            });
        } else if (flag == "1") {
            $.ajax({
                url: urls + "ceknsamonper",
                type: 'get',
                data: "id_nsa_indicator="+idindikator,
                dataType: 'json',
                cache: false,
                success: function (monper) {
                    // console.log(monper[0]);
                    percallback(monper[0]);
                    if (monper[0] == "yearly") {
                        headyearly();
                    } else if (monper[0] == "semesterly") {
                        headsemesterly();
                    } else {
                        headquarterly();
                    }
                }
            });
        }

        var periode;
        function percallback(period) {
            periode = period;
        }

        function headyearly() {
            var th = "<tr>";
            th += "<th id='th1' style='vertical-align:middle;width:10%;' rowspan='4'>Satuan</th>";
            th += "<th id='th2' style='vertical-align:middle;' colspan='5'>Target per Tahun</th>";
            th += "<th id='th3' style='vertical-align:middle;' colspan='5'>Realisasi per Tahun</th>";
            th += "<th id='th4' style='vertical-align:middle;word-wrap:break-word;max-width:100px;' rowspan='4'>Realisasi Anggaran<br>Tahun Berjalan<br>(juta)</th>";
            th += "<th id='th5' style='vertical-align:middle;' rowspan='4'>Sumber Pendanaan</th>";
            th += "<th id='th6' style='vertical-align:middle;' rowspan='4'>Pelaku</th>";
            th += "</tr>";
            th += "<tr class='trtarget'>";
            th += "<th id='tahun1' style='vertical-align:middle;' rowspan='3'>2020</th>";
            th += "<th id='tahun2' style='vertical-align:middle;' rowspan='3'>2021</th>";
            th += "<th id='tahun3' style='vertical-align:middle;' rowspan='3'>2022</th>";
            th += "<th id='tahun4' style='vertical-align:middle;' rowspan='3'>2023</th>";
            th += "<th id='tahun5' style='vertical-align:middle;' rowspan='3'>2024</th>";
            th += "</tr>";
            th += "<tr class='trreal'>";
            th += "<th id='tahun11' colspan='1'>2020</th>";
            th += "<th id='tahun12' colspan='1'>2021</th>";
            th += "<th id='tahun13' colspan='1'>2022</th>";
            th += "<th id='tahun14' colspan='1'>2023</th>";
            th += "<th id='tahun15' colspan='1'>2024</th>";
            th += "</tr>";
            th += "<tr>";
            th += "<th>I</th>";
            th += "<th>I</th>";
            th += "<th>I</th>";
            th += "<th>I</th>";
            th += "<th>I</th>";
            th += "</tr>";
            $("#tabgrafik > thead").append(th);
        }

        function headsemesterly() {
            var th = "<tr>";
            th += "<th id='th1' style='vertical-align:middle;width:10%;' rowspan='4'>Satuan</th>";
            th += "<th id='th2' style='vertical-align:middle;' colspan='5'>Target per Tahun</th>";
            th += "<th id='th3' style='vertical-align:middle;' colspan='10'>Realisasi per Semester</th>";
            th += "<th id='th4' style='vertical-align:middle;word-wrap:break-word;max-width:100px;' rowspan='4'>Realisasi Anggaran<br>Tahun Berjalan<br>(juta)</th>";
            th += "<th id='th5' style='vertical-align:middle;' rowspan='4'>Sumber Pendanaan</th>";
            th += "<th id='th6' style='vertical-align:middle;' rowspan='4'>Pelaku</th>";
            th += "</tr>";
            th += "<tr class='trtarget'>";
            th += "<th id='tahun1' style='vertical-align:middle;' rowspan='3'>2020</th>";
            th += "<th id='tahun2' style='vertical-align:middle;' rowspan='3'>2021</th>";
            th += "<th id='tahun3' style='vertical-align:middle;' rowspan='3'>2022</th>";
            th += "<th id='tahun4' style='vertical-align:middle;' rowspan='3'>2023</th>";
            th += "<th id='tahun5' style='vertical-align:middle;' rowspan='3'>2024</th>";
            th += "</tr>";
            th += "<tr class='trreal'>";
            th += "<th id='tahun11' colspan='2'>2020</th>";
            th += "<th id='tahun12' colspan='2'>2021</th>";
            th += "<th id='tahun13' colspan='2'>2022</th>";
            th += "<th id='tahun14' colspan='2'>2023</th>";
            th += "<th id='tahun15' colspan='2'>2024</th>";
            th += "</tr>";
            th += "<tr>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "</tr>";
            $("#tabgrafik > thead").append(th);
        }

        function headquarterly() {
            var th = "<tr>";
            th += "<th id='th1' style='vertical-align:middle;width:10%;' rowspan='4'>Satuan</th>";
            th += "<th id='th2' style='vertical-align:middle;' colspan='5'>Target per Tahun</th>";
            th += "<th id='th3' style='vertical-align:middle;' colspan='20'>Realisasi per Semester</th>";
            th += "<th id='th4' style='vertical-align:middle;word-wrap:break-word;max-width:100px;' rowspan='4'>Realisasi Anggaran<br>Tahun Berjalan<br>(juta)</th>";
            th += "<th id='th5' style='vertical-align:middle;' rowspan='4'>Sumber Pendanaan</th>";
            th += "<th id='th6' style='vertical-align:middle;' rowspan='4'>Pelaku</th>";
            th += "</tr>";
            th += "<tr class='trtarget'>";
            th += "<th id='tahun1' style='vertical-align:middle;' rowspan='3'>2020</th>";
            th += "<th id='tahun2' style='vertical-align:middle;' rowspan='3'>2021</th>";
            th += "<th id='tahun3' style='vertical-align:middle;' rowspan='3'>2022</th>";
            th += "<th id='tahun4' style='vertical-align:middle;' rowspan='3'>2023</th>";
            th += "<th id='tahun5' style='vertical-align:middle;' rowspan='3'>2024</th>";
            th += "</tr>";
            th += "<tr class='trreal'>";
            th += "<th id='tahun11' colspan='4'>2020</th>";
            th += "<th id='tahun12' colspan='4'>2021</th>";
            th += "<th id='tahun13' colspan='4'>2022</th>";
            th += "<th id='tahun14' colspan='4'>2023</th>";
            th += "<th id='tahun15' colspan='4'>2024</th>";
            th += "</tr>";
            th += "<tr>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>III</th>";
            th += "<th>IV</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>III</th>";
            th += "<th>IV</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>III</th>";
            th += "<th>IV</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>III</th>";
            th += "<th>IV</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>III</th>";
            th += "<th>IV</th>";
            th += "</tr>";
            $("#tabgrafik > thead").append(th);
        }

        indo();

        if (lang == "0") {
            indo();
        } else {
            inggris();
        }

        $('#fs').on('change', function(){
            if($(this).is(':checked')){
                indo();
            } else {
                inggris();
            }
        });

        function indo() {
            $("#title").text("Grafik hasil Pelaporan");
            $("#th1").text("Satuan");
            $("#th2").text("Target per Tahun");
            if (periode == "yearly") {
                $("#th3").text("Realisasi per Tahun");
            } else if (periode == "semesterly") {
                $("#th3").text("Realisasi per Semester");
            } else if (periode == "quarterly") {
                $("#th3").text("Realisasi per Kwartal");
            }
            $("#th4").text("Realisasi Pendanaan Tahun Berjalan\n(juta)");
            $("#th5").text("Sumber Pendanaan");
            $("#th6").text("Pelaku");
        }

        function inggris() {
            $("#title").text("Monitoring Graph");
            $("#th1").text("Unit");
            $("#th2").text("Anually Target");
            if (periode == "yearly") {
                $("#th3").text("Anually Realization");
            } else if (periode == "semesterly") {
                $("#th3").text("Semesterly Realization");
            } else if (periode == "quarterly") {
                $("#th3").text("Quarterly Realization");
            }
            $("#th4").text("Budget Realization in Current Year\n(million)");
            $("#th5").text("Funding Source");
            $("#th6").text("Actor");
        }

        //******************** Content ********************
        //********** Header tabel ***********
        $.ajax({
            url: urls + "getperiodeheader",
            type: 'get',
            data: "id_gov_indicator="+idindikator,
            dataType: 'json',
            cache: false,
            success: function (resheader) {
                var a = parseInt(resheader[0][1], 10);
                var b = parseInt(resheader[0][2], 10);
                var selisih = (b - a) + 1;
                var range = [];
                range.push(a);
                por(a);
                for (var i=1; i<selisih; i++) {
                    range.push(a+i);
                    por(a+i);
                }
                // console.log(range);
                for (var i=0; i<range.length; i++) {
                    $("#tahun"+(i+1)).text(range[i]);
                    $("#tahun1"+(i+1)).text(range[i]);
                }
            }
        });
        //********** Flag 0 => Gov || Flag 1 => Non-Gov **********
        if (flag == "0") {
            //================= Get Mapping Program Indicator ke SDG Indicator ===============
            $.ajax({
                url: urls + "reportgovgrap",
                type: 'get',
                data: "id_gov_indicator="+idindikator,
                dataType: 'json',
                cache: false,
                success: function (resgovindi) {
                    // console.log(resgovindi);
                    for ( var i=0; i<resgovindi.length; i++) {
                        var row = "<tr>";
                        row += "<td style='text-align:center;'>"+resgovindi[i][7]+"</td>";
                        if (resgovindi[i][8] == null){resgovindi[i][8] = 0};
                        row += "<td id='tar1' style='text-align:center;'>"+resgovindi[i][8]+"</td>";
                        if (resgovindi[i][9] == null){resgovindi[i][9] = 0};
                        row += "<td id='tar2' style='text-align:center;'>"+resgovindi[i][9]+"</td>";
                        if (resgovindi[i][10] == null){resgovindi[i][10] = 0};
                        row += "<td id='tar3' style='text-align:center;'>"+resgovindi[i][10]+"</td>";
                        if (resgovindi[i][11] == null){resgovindi[i][11] = 0};
                        row += "<td id='tar4' style='text-align:center;'>"+resgovindi[i][11]+"</td>";
                        if (resgovindi[i][12] == null){resgovindi[i][12] = 0};
                        row += "<td id='tar5' style='text-align:center;'>"+resgovindi[i][12]+"</td>";
                        if (periode == "yearly") {
                            row += "<td id='td1' style='text-align:center;'></td>";
                            row += "<td id='td2' style='text-align:center;'></td>";
                            row += "<td id='td3' style='text-align:center;'></td>";
                            row += "<td id='td4' style='text-align:center;'></td>";
                            row += "<td id='td5' style='text-align:center;'></td>";
                            $.ajax({
                                url: urls + "sumrealyear",
                                type: 'get',
                                data: "id_gov_indicator="+idindikator,
                                dataType: 'json',
                                cache: false,
                                success: function (ressum) {
                                    // console.log(ressum);
                                    $("#td1").text(ressum[0][1]);
                                    $("#td2").text(ressum[1][1]);
                                    $("#td3").text(ressum[2][1]);
                                    $("#td4").text(ressum[3][1]);
                                    $("#td5").text(ressum[4][1]);
                                }
                            });
                        } else if (periode == "semesterly") {
                            row += "<td id='td1' style='text-align:center;'></td>";
                            row += "<td id='td2' style='text-align:center;'></td>";
                            row += "<td id='td3' style='text-align:center;'></td>";
                            row += "<td id='td4' style='text-align:center;'></td>";
                            row += "<td id='td5' style='text-align:center;'></td>";
                            row += "<td id='td6' style='text-align:center;'></td>";
                            row += "<td id='td7' style='text-align:center;'></td>";
                            row += "<td id='td8' style='text-align:center;'></td>";
                            row += "<td id='td9' style='text-align:center;'></td>";
                            row += "<td id='td10' style='text-align:center;'></td>";
                            $.ajax({
                                url: urls + "sumrealsemester",
                                type: 'get',
                                data: "id_gov_indicator="+idindikator,
                                dataType: 'json',
                                cache: false,
                                success: function (ressum) {
                                    $("#td1").text(ressum[0][1]);
                                    $("#td2").text(ressum[0][2]);
                                    $("#td3").text(ressum[1][1]);
                                    $("#td4").text(ressum[1][2]);
                                    $("#td5").text(ressum[2][1]);
                                    $("#td6").text(ressum[2][2]);
                                    $("#td7").text(ressum[3][1]);
                                    $("#td8").text(ressum[3][2]);
                                    $("#td9").text(ressum[4][1]);
                                    $("#td10").text(ressum[4][2]);
                                }
                            });
                        } else if (periode == "quarterly") {
                            row += "<td id='td1' style='text-align:center;'></td>";
                            row += "<td id='td2' style='text-align:center;'></td>";
                            row += "<td id='td3' style='text-align:center;'></td>";
                            row += "<td id='td4' style='text-align:center;'></td>";
                            row += "<td id='td5' style='text-align:center;'></td>";
                            row += "<td id='td6' style='text-align:center;'></td>";
                            row += "<td id='td7' style='text-align:center;'></td>";
                            row += "<td id='td8' style='text-align:center;'></td>";
                            row += "<td id='td9' style='text-align:center;'></td>";
                            row += "<td id='td10' style='text-align:center;'></td>";
                            row += "<td id='td11' style='text-align:center;'></td>";
                            row += "<td id='td12' style='text-align:center;'></td>";
                            row += "<td id='td13' style='text-align:center;'></td>";
                            row += "<td id='td14' style='text-align:center;'></td>";
                            row += "<td id='td15' style='text-align:center;'></td>";
                            row += "<td id='td16' style='text-align:center;'></td>";
                            row += "<td id='td17' style='text-align:center;'></td>";
                            row += "<td id='td18' style='text-align:center;'></td>";
                            row += "<td id='td19' style='text-align:center;'></td>";
                            row += "<td id='td20' style='text-align:center;'></td>";
                            $.ajax({
                                url: urls + "sumrealquarter",
                                type: 'get',
                                data: "id_gov_indicator="+idindikator,
                                dataType: 'json',
                                cache: false,
                                success: function (ressum) {
                                    $("#td1").text(ressum[0][1]);
                                    $("#td2").text(ressum[0][2]);
                                    $("#td3").text(ressum[0][3]);
                                    $("#td4").text(ressum[0][4]);
                                    $("#td5").text(ressum[1][1]);
                                    $("#td6").text(ressum[1][2]);
                                    $("#td7").text(ressum[1][3]);
                                    $("#td8").text(ressum[1][4]);
                                    $("#td9").text(ressum[2][1]);
                                    $("#td10").text(ressum[2][2]);
                                    $("#td11").text(ressum[2][3]);
                                    $("#td12").text(ressum[2][4]);
                                    $("#td13").text(ressum[3][1]);
                                    $("#td14").text(ressum[3][2]);
                                    $("#td15").text(ressum[3][3]);
                                    $("#td16").text(ressum[3][4]);
                                    $("#td17").text(ressum[4][1]);
                                    $("#td18").text(ressum[4][2]);
                                    $("#td19").text(ressum[4][3]);
                                    $("#td20").text(ressum[4][4]);
                                }
                            });
                        }
                        if (resgovindi[i][14] == null){resgovindi[i][14] = 0};
                        row += "<td style='text-align:center;width:8%;'>"+resgovindi[i][14]+"</td>";
                        row += "<td style='width:12%;'>"+resgovindi[i][13]+"</td>";
                        row += "<td>"+name+"</td>";
                        row += "</tr>";
                        $("#tabgrafik > tbody").append(row);
                    }
                }
            });
        } else if (flag == "1") {
            //================= Get Mapping Program Indicator ke SDG Indicator ===============
            $.ajax({
                url: urls + "reportnsagrap",
                type: 'get',
                data: "id_nsa_indicator="+idindikator,
                dataType: 'json',
                cache: false,
                success: function (resnsaindi) {
                    // console.log(resnsaindi);
                    for ( var i=0; i<resnsaindi.length; i++) {
                        var row = "<tr>";
                        row += "<td style='text-align:center;'>"+resnsaindi[i][7]+"</td>";
                        if (resnsaindi[i][8] == null){resnsaindi[i][8] = 0};
                        row += "<td id='tar1' style='text-align:center;'>"+resnsaindi[i][8]+"</td>";
                        if (resnsaindi[i][9] == null){resnsaindi[i][9] = 0};
                        row += "<td id='tar2' style='text-align:center;'>"+resnsaindi[i][9]+"</td>";
                        if (resnsaindi[i][10] == null){resnsaindi[i][10] = 0};
                        row += "<td id='tar3' style='text-align:center;'>"+resnsaindi[i][10]+"</td>";
                        if (resnsaindi[i][11] == null){resnsaindi[i][11] = 0};
                        row += "<td id='tar4' style='text-align:center;'>"+resnsaindi[i][11]+"</td>";
                        if (resnsaindi[i][12] == null){resnsaindi[i][12] = 0};
                        row += "<td id='tar5' style='text-align:center;'>"+resnsaindi[i][12]+"</td>";
                        if (periode == "yearly") {
                            row += "<td id='td1' style='text-align:center;'></td>";
                            row += "<td id='td2' style='text-align:center;'></td>";
                            row += "<td id='td3' style='text-align:center;'></td>";
                            row += "<td id='td4' style='text-align:center;'></td>";
                            row += "<td id='td5' style='text-align:center;'></td>";
                            $.ajax({
                                url: urls + "sumrealyearnsa",
                                type: 'get',
                                data: "id_nsa_indicator="+idindikator,
                                dataType: 'json',
                                cache: false,
                                success: function (ressum) {
                                    // console.log(ressum);
                                    $("#td1").text(ressum[0][1]);
                                    $("#td2").text(ressum[1][1]);
                                    $("#td3").text(ressum[2][1]);
                                    $("#td4").text(ressum[3][1]);
                                    $("#td5").text(ressum[4][1]);
                                }
                            });
                        } else if (periode == "semesterly") {
                            row += "<td id='td1' style='text-align:center;'></td>";
                            row += "<td id='td2' style='text-align:center;'></td>";
                            row += "<td id='td3' style='text-align:center;'></td>";
                            row += "<td id='td4' style='text-align:center;'></td>";
                            row += "<td id='td5' style='text-align:center;'></td>";
                            row += "<td id='td6' style='text-align:center;'></td>";
                            row += "<td id='td7' style='text-align:center;'></td>";
                            row += "<td id='td8' style='text-align:center;'></td>";
                            row += "<td id='td9' style='text-align:center;'></td>";
                            row += "<td id='td10' style='text-align:center;'></td>";
                            $.ajax({
                                url: urls + "sumrealsemesternsa",
                                type: 'get',
                                data: "id_nsa_indicator="+idindikator,
                                dataType: 'json',
                                cache: false,
                                success: function (ressum) {
                                    $("#td1").text(ressum[0][1]);
                                    $("#td2").text(ressum[0][2]);
                                    $("#td3").text(ressum[1][1]);
                                    $("#td4").text(ressum[1][2]);
                                    $("#td5").text(ressum[2][1]);
                                    $("#td6").text(ressum[2][2]);
                                    $("#td7").text(ressum[3][1]);
                                    $("#td8").text(ressum[3][2]);
                                    $("#td9").text(ressum[4][1]);
                                    $("#td10").text(ressum[4][2]);
                                }
                            });
                        } else if (periode == "quarterly") {
                            row += "<td id='td1' style='text-align:center;'></td>";
                            row += "<td id='td2' style='text-align:center;'></td>";
                            row += "<td id='td3' style='text-align:center;'></td>";
                            row += "<td id='td4' style='text-align:center;'></td>";
                            row += "<td id='td5' style='text-align:center;'></td>";
                            row += "<td id='td6' style='text-align:center;'></td>";
                            row += "<td id='td7' style='text-align:center;'></td>";
                            row += "<td id='td8' style='text-align:center;'></td>";
                            row += "<td id='td9' style='text-align:center;'></td>";
                            row += "<td id='td10' style='text-align:center;'></td>";
                            row += "<td id='td11' style='text-align:center;'></td>";
                            row += "<td id='td12' style='text-align:center;'></td>";
                            row += "<td id='td13' style='text-align:center;'></td>";
                            row += "<td id='td14' style='text-align:center;'></td>";
                            row += "<td id='td15' style='text-align:center;'></td>";
                            row += "<td id='td16' style='text-align:center;'></td>";
                            row += "<td id='td17' style='text-align:center;'></td>";
                            row += "<td id='td18' style='text-align:center;'></td>";
                            row += "<td id='td19' style='text-align:center;'></td>";
                            row += "<td id='td20' style='text-align:center;'></td>";
                            $.ajax({
                                url: urls + "sumrealquarternsa",
                                type: 'get',
                                data: "id_nsa_indicator="+idindikator,
                                dataType: 'json',
                                cache: false,
                                success: function (ressum) {
                                    $("#td1").text(ressum[0][1]);
                                    $("#td2").text(ressum[0][2]);
                                    $("#td3").text(ressum[0][3]);
                                    $("#td4").text(ressum[0][4]);
                                    $("#td5").text(ressum[1][1]);
                                    $("#td6").text(ressum[1][2]);
                                    $("#td7").text(ressum[1][3]);
                                    $("#td8").text(ressum[1][4]);
                                    $("#td9").text(ressum[2][1]);
                                    $("#td10").text(ressum[2][2]);
                                    $("#td11").text(ressum[2][3]);
                                    $("#td12").text(ressum[2][4]);
                                    $("#td13").text(ressum[3][1]);
                                    $("#td14").text(ressum[3][2]);
                                    $("#td15").text(ressum[3][3]);
                                    $("#td16").text(ressum[3][4]);
                                    $("#td17").text(ressum[4][1]);
                                    $("#td18").text(ressum[4][2]);
                                    $("#td19").text(ressum[4][3]);
                                    $("#td20").text(ressum[4][4]);
                                }
                            });
                        }
                        if (resnsaindi[i][14] == null){resnsaindi[i][14] = 0};
                        row += "<td style='text-align:center;'>"+resnsaindi[i][14]+"</td>";
                        row += "<td>"+resnsaindi[i][13]+"</td>";
                        row += "<td>"+name+"</td>";
                        row += "</tr>";
                        $("#tabgrafik > tbody").append(row);
                    }
                }
            });
        }

        //************************** Grafik / Chart **************************
        $("#btngrafik").click(function () {
            Highcharts.setOptions({
                colors: Highcharts.map(Highcharts.getOptions().colors, function (color) {
                    return {
                        radialGradient: {
                            cx: 0.5,
                            cy: 0.3,
                            r: 0.7
                        },
                        stops: [
                            [0, color],
                            [1, Highcharts.Color(color).brighten(-0.3).get('rgb')] // darken
                        ]
                    };
                })
            });

            //******************* Bar Chart *******************
            var tahun = [$("#tahun1").text(),$("#tahun2").text(),$("#tahun3").text(),$("#tahun4").text(),$("#tahun5").text()];
            if (periode == "yearly") {
                var valreal1 = [];var valreal2 = [];var valreal3 = [];var valreal4 = [];var valreal5 = [];
                valreal1.push(
                    parseInt($("#td1").text(), 10),
                    parseInt($("#td2").text(), 10),
                    parseInt($("#td3").text(), 10),
                    parseInt($("#td4").text(), 10),
                    parseInt($("#td5").text(), 10)
                );
                Highcharts.chart('barcontainer', {
                    chart: {
                        type: 'column'
                    },
                    title: {
                        text: 'Realisasi per Tahun'
                    },
                    subtitle: {
                        text: 'Periode '+tahun[0]+' - '+tahun[4]
                    },
                    xAxis: {
                        categories: tahun,
                        crosshair: true
                    },
                    yAxis: {
                        min: 0,
                        title: {text: 'Realisasi per Tahun'}
                    },
                    tooltip: {
                        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                            '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
                        footerFormat: '</table>',
                        shared: true,
                        useHTML: true
                    },
                    plotOptions: {
                        column: {
                            pointPadding: 0.2,
                            borderWidth: 0
                        }
                    },
                    credits: {
                        enabled: false
                    },
                    series: [{
                        name: tahun[0], data: valreal1
                    }]
                });
            } else if (periode == "semesterly") {
                var valreal1 = [];var valreal2 = [];var valreal3 = [];var valreal4 = [];var valreal5 = [];
                var valreal1 = [
                    parseInt($("#td1").text(), 10),
                    parseInt($("#td2").text(), 10),
                    parseInt($("#td3").text(), 10),
                    parseInt($("#td4").text(), 10),
                    parseInt($("#td5").text(), 10)
                ];
                var valreal2 = [
                    parseInt($("#td6").text(), 10),
                    parseInt($("#td7").text(), 10),
                    parseInt($("#td8").text(), 10),
                    parseInt($("#td9").text(), 10),
                    parseInt($("#td10").text(), 10)
                ];
                Highcharts.chart('barcontainer', {
                    chart: {
                        type: 'column'
                    },
                    title: {
                        text: 'Realisasi per Semester'
                    },
                    subtitle: {
                        text: 'Periode '+tahun[0]+' - '+tahun[4]
                    },
                    xAxis: {
                        categories: tahun,
                        crosshair: true
                    },
                    yAxis: {
                        min: 0,
                        title: {text: 'Realisasi per Semester'}
                    },
                    tooltip: {
                        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                            '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
                        footerFormat: '</table>',
                        shared: true,
                        useHTML: true
                    },
                    plotOptions: {
                        column: {
                            pointPadding: 0.2,
                            borderWidth: 0
                        }
                    },
                    credits: {
                        enabled: false
                    },
                    series: [{
                        name: tahun[0], data: valreal1
                    }, {
                        name: tahun[1], data: valreal2
                    }]
                });
            } else if (periode == "quarterly") {
                var valreal1 = [];var valreal2 = [];var valreal3 = [];var valreal4 = [];var valreal5 = [];
                valreal1.push(parseInt($("#td1").text(), 10),parseInt($("#td2").text(), 10),parseInt($("#td3").text(), 10),parseInt($("#td4").text(), 10));
                valreal2.push(parseInt($("#td5").text(), 10),parseInt($("#td5").text(), 10),parseInt($("#td5").text(), 10),parseInt($("#td5").text(), 10));
                valreal3.push(parseInt($("#td9").text(), 10),parseInt($("#td10").text(), 10),parseInt($("#td11").text(), 10),parseInt($("#td12").text(), 10));
                valreal4.push(parseInt($("#td13").text(), 10),parseInt($("#td14").text(), 10),parseInt($("#td15").text(), 10),parseInt($("#td16").text(), 10));
                valreal5.push(parseInt($("#td17").text(), 10),parseInt($("#td18").text(), 10),parseInt($("#td19").text(), 10),parseInt($("#td20").text(), 10));
                Highcharts.chart('barcontainer', {
                    chart: {
                        type: 'column'
                    },
                    title: {
                        text: 'Realisasi per Kwartal'
                    },
                    subtitle: {
                        text: 'Periode '+tahun[0]+' - '+tahun[4]
                    },
                    xAxis: {
                        categories: tahun,
                        crosshair: true
                    },
                    yAxis: {
                        min: 0,
                        title: {text: 'Realisasi per Kwartal'}
                    },
                    tooltip: {
                        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                            '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
                        footerFormat: '</table>',
                        shared: true,
                        useHTML: true
                    },
                    plotOptions: {
                        column: {
                            pointPadding: 0.2,
                            borderWidth: 0
                        }
                    },
                    credits: {
                        enabled: false
                    },
                    series: [{
                        name: tahun[0], data: valreal1
                    }, {
                        name: tahun[1], data: valreal2
                    }, {
                        name: tahun[2], data: valreal3
                    }, {
                        name: tahun[3], data: valreal4
                    }, {
                        name: tahun[4], data: valreal5
                    }]
                });
            }

            //******************* Line Chart *******************
            var valtarget = [
                parseInt($("#tar1").text(), 10),
                parseInt($("#tar2").text(), 10),
                parseInt($("#tar3").text(), 10),
                parseInt($("#tar4").text(), 10),
                parseInt($("#tar5").text(), 10)
            ];
            var tahun = [$("#tahun1").text(),$("#tahun2").text(),$("#tahun3").text(),$("#tahun4").text(),$("#tahun5").text()];
            Highcharts.chart('container', {
                title: {
                    text: 'Target Program per Tahun'
                },
                subtitle: {
                    text: 'Periode '+tahun[0]+' - '+tahun[4]
                },
                yAxis: {
                    title: {
                        text: 'Data Program Indikator'
                    }
                },
                xAxis: {
                    accessibility: {
                        rangeDescription: 'Range: 2019 to 2023'
                    }
                },
                legend: {
                    layout: 'vertical',
                    align: 'right',
                    verticalAlign: 'middle'
                },
                plotOptions: {
                    series: {
                        label: {
                            connectorAllowed: false
                        },
                        pointStart: 2019
                    }
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: 'Target per Tahun',
                    data: valtarget
                }],
                responsive: {
                    rules: [{
                        chartOptions: {
                            legend: {
                                layout: 'horizontal',
                                align: 'center',
                                verticalAlign: 'bottom'
                            }
                        }
                    }]
                }
            });
        });
    </script>
</body>
</html>