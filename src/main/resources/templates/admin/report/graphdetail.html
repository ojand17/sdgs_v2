<!DOCTYPE html>
<html lang="en"
      xmlns:="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<meta name="_csrf" th:content="${_csrf.token}"/>
<meta name="_csrf_header" th:content="${_csrf.headerName}"/>
<head th:include="admin/layout :: header">
    <title th:text="SDG Report Graph"></title>
</head>
<body>
    <div th:include="admin/layout :: menu"></div>
    <div id="content">
        <div id="content-header">
            <div id="breadcrumb" class="lang_indo"> <a href="#" title="Ke Home" class="tip-bottom"><i class="icon-home"></i>Laporan / Grafik / Detail</a></div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div id="divsdg" style="width:100%;">
                	<button id="back" class="btn btn-warning">Kembali</button>
                </div>
                <div class="widget-box">
                    <div class="widget-title">
                        <span class="icon"><i class="icon-tasks"></i></span>
                        <h5 id="title">Detail Grafik Hasil Pelaporan</h5>
                    </div>
                    <div class="widget-content" style="background:#FFFFFF;">
                    	<div id="divdaerah" class="pull-left">
                			<b><span>Provinsi : </span>&nbsp;&nbsp;&nbsp;<span id="daerah"></span></b><br>
                    	</div>
                        <div class="pull-right" style="width:auto;">
                        	<select id="pilgrafik">
                        		<option value="0">-- Pilih Jenis Grafik --</option>
                        		<option value="graf1">Grafik Line</option>
                        		<option value="graf3">Grafik Combination</option>
                        	</select>
                        	<!-- <button id="btngrafik" class="btn btn-primary">Show Graphic</button> -->
                            <button id="btnexport" class="btn btn-success" style="margin-right:4px;">Export Excel</button>
                        </div><br><br><br><br><hr>
                        <div id="divgoals"></div><br>
                       	<div id="divtabgoals" style="width:100%;">
                            <table id="tabsdg" class='table table-striped table-bordered'>
                                <thead></thead>
                                <tbody></tbody>
                            </table>
                       	</div>
                        <div id="divtab" style="width:100%;">
                            <table id="tabgrafik" class='table table-striped table-bordered'>
                                <thead></thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <div class="row-fluid">
                            <div class="span12">
                                <div id="dualaxes"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div th:include="admin/layout :: footer"></div>
    <script th:inline="javascript">
        var lang = [[${lang}]];
        if (lang == null) {lang = "0";};
        var name = [[${name}]];
        $("#welcome").html("Welcome, "+name);
        var idsdg = [[${idsdg}]];
        var idtarget = [[${idtar}]];
        var idsdgindikator = [[${idsdgindikator}]];
        var idmonper = [[${idmonper}]];
        var flag = [[${flag}]];
        var valdaerah = [[${valdaerah}]];
        var valrole = [[${valrole}]];
        
        //alert(idsdg+" - "+idtarget+" - "+idsdgindikator+" - "+idmonper+" - "+flag+" - "+valdaerah);
        
        $("#back").on("click", function(){
        	location.href = urls+"report-graph";
        });
        
        $.ajax({
        	url: urls + "getprov",
            type: 'get',
            data: "valdaerah="+valdaerah,
            dataType: 'json',
            cache: false,
            async: false,
            success: function (prov) {
            	//console.log(prov);
            	if (prov[0][0] === "Indonesia") {
            		$("#divdaerah").empty();
            		$("#divdaerah").append("<b><span>Pemerintah "+prov[0][0]+"</span></b><br>");
            	} else {
            		$("#daerah").text(prov[0][0]);
            	}
            	$("#daerah").text(prov[0][0]);
            }
        });

        //====================== Header Tabel ======================
        if (flag == "1") {
            $.ajax({
                url: urls + "ceksdgmonper",
                type: 'get',
                data: "id_monper="+idmonper,
                cache: false,
                async: false,
                success: function (monper) {
                    percallback(monper[0]);
                    if (monper[0] == "yearly") {
                        headyearly();
                    } else if (monper[0] == "semesterly") {
                        headsemesterly();
                    } else if (monper[0] == "quarterly") {
                        headquarterly();
                    }
                }
            });
        	//==================== Get Goal Target Indicator ===================
            $.ajax({
            	url: urls + "getgoals",
                type: 'get',
                data: {'id_goals':idsdg,'id_target':idtarget,'id_indicator':idsdgindikator},
                dataType: 'json',
                cache: false,
                async: false,
                success: function (goal) {
                	//console.log(goal);
                	var isihead = "<b><span>Goal : "+goal[0][4]+"</span></b><br>";
                	isihead += "<b><span>Target : "+goal[0][7]+"</span></b><br>";
                	isihead += "<b><span>Indikator : "+goal[0][1]+"</span></b><br>";
                	/* isihead += "<b><span>Disagregasi : "+goal[0]10]+"</span></b><br>"; */
                	$("#divdaerah").append(isihead); 
                }
            });
        } else if (flag == "2") {
        	$.ajax({
        		url: urls + "cekgmonper",
        		type: 'get',
        		data: "id_monper="+idmonper,
        		cache: false,
        		async: false,
        		success: function (monper) {
    				percallback(monper[0]);
        			if (monper[0] == "yearly") {
                        headyearly();
                    } else if (monper[0] == "semesterly") {
                        headsemesterly();
                    } else if (monper[0] == "quarterly") {
                        headquarterly();
                    }
        		}
        	});
        	//==================== Get Program Activity ===================
            $.ajax({
            	url: urls + "getprogov",
                type: 'get',
                data: {'id_program':idsdg,'id_activity':idtarget,'id_indicator':idsdgindikator},
                dataType: 'json',
                cache: false,
                async: false,
                success: function (goal) {
                	//console.log(goal);
                	var isihead = "<b><span>Program : "+goal[0][4]+"</span></b><br>";
                	isihead += "<b><span>Kegiatan : "+goal[0][7]+"</span></b><br>";
                	isihead += "<b><span>Indikator : "+goal[0][1]+"</span></b><br>";
                	/* isihead += "<b><span>Disagregasi : "+goal[0]10]+"</span></b><br>"; */
                	$("#divdaerah").append(isihead); 
                }
            });
        } else if (flag == "3") {
        	$.ajax({
        		url: urls + "ceknmonper",
        		type: 'get',
        		data: "id_monper="+idmonper,
        		cache: false,
        		async: false,
        		success: function (monper) {
    				percallback(monper[0]);
        			if (monper[0] == "yearly") {
                        headyearly();
                    } else if (monper[0] == "semesterly") {
                        headsemesterly();
                    } else if (monper[0] == "quarterly") {
                        headquarterly();
                    }
        		}
        	});
        	//==================== Get Program Activity ===================
            $.ajax({
            	url: urls + "getpronsa",
                type: 'get',
                data: {'id_program':idsdg,'id_activity':idtarget,'id_indicator':idsdgindikator},
                dataType: 'json',
                cache: false,
                async: false,
                success: function (goal) {
                	//console.log(goal);
                	var isihead = "<b><span>Program : "+goal[0][4]+"</span></b><br>";
                	isihead += "<b><span>Kegiatan : "+goal[0][7]+"</span></b><br>";
                	isihead += "<b><span>Indikator : "+goal[0][1]+"</span></b><br>";
                	/* isihead += "<b><span>Disagregasi : "+goal[0]10]+"</span></b><br>"; */
                	$("#divdaerah").append(isihead); 
                }
            });
        }

        var periode;
        function percallback(period) {
            periode = period;
        }

        function headyearly() {
            var th = "<tr>";
            th += "<th id='th0' style='vertical-align:middle;width:10%;' rowspan='4'>Role</th>";
            th += "<th id='th1' style='vertical-align:middle;width:10%;' rowspan='4'>Satuan</th>";
            th += "<th id='th2' style='vertical-align:middle;' colspan='5'>Target per Tahun</th>";
            th += "<th id='th3' style='vertical-align:middle;' colspan='5'>Realisasi per Tahun</th>";
            th += "<th id='th4' style='vertical-align:middle;word-wrap:break-word;max-width:100px;' rowspan='4'>Realisasi Anggaran<br>Tahun Berjalan<br>(juta)</th>";
            th += "<th id='th5' style='vertical-align:middle;' rowspan='4'>Sumber Pendanaan</th>";
            th += "<th id='th6' style='vertical-align:middle;' rowspan='4'>Pelaku</th>";
            th += "</tr>";
            th += "<tr class='trtarget'>";
            th += "<th id='tahun1' style='vertical-align:middle;' rowspan='3'></th>";
            th += "<th id='tahun2' style='vertical-align:middle;' rowspan='3'></th>";
            th += "<th id='tahun3' style='vertical-align:middle;' rowspan='3'></th>";
            th += "<th id='tahun4' style='vertical-align:middle;' rowspan='3'></th>";
            th += "<th id='tahun5' style='vertical-align:middle;' rowspan='3'></th>";
            th += "</tr>";
            th += "<tr class='trreal'>";
            th += "<th id='tahun11' colspan='1'></th>";
            th += "<th id='tahun12' colspan='1'></th>";
            th += "<th id='tahun13' colspan='1'></th>";
            th += "<th id='tahun14' colspan='1'></th>";
            th += "<th id='tahun15' colspan='1'></th>";
            th += "</tr>";
            th += "<tr>";
            th += "<th>I</th>";
            th += "<th>I</th>";
            th += "<th>I</th>";
            th += "<th>I</th>";
            th += "<th>I</th>";
            th += "</tr>";
            $("#tabgrafik > thead").append(th);
            var row = "<tr>";
            for (var i=1; i<=15; i++) {
            	row += "<td style='text-align:center;' id='col"+i+"'></td>";
            }
            row += "</tr>";
            $("#tabgrafik > tbody").append(row);
            $("#col14").text(name);
        }

        function headsemesterly() {
            var th = "<tr>";
            th += "<th id='th0' style='vertical-align:middle;width:10%;' rowspan='4'>Role</th>";
            th += "<th id='th1' style='vertical-align:middle;width:10%;' rowspan='4'>Satuan</th>";
            th += "<th id='th2' style='vertical-align:middle;' colspan='5'>Target per Tahun</th>";
            th += "<th id='th3' style='vertical-align:middle;' colspan='10'>Realisasi per Semester</th>";
            th += "<th id='th4' style='vertical-align:middle;word-wrap:break-word;max-width:100px;' rowspan='4'>Realisasi Anggaran<br>Tahun Berjalan<br>(juta)</th>";
            th += "<th id='th5' style='vertical-align:middle;' rowspan='4'>Sumber Pendanaan</th>";
            th += "<th id='th6' style='vertical-align:middle;' rowspan='4'>Pelaku</th>";
            th += "</tr>";
            th += "<tr class='trtarget'>";
            th += "<th id='tahun1' style='vertical-align:middle;' rowspan='3'></th>";
            th += "<th id='tahun2' style='vertical-align:middle;' rowspan='3'></th>";
            th += "<th id='tahun3' style='vertical-align:middle;' rowspan='3'></th>";
            th += "<th id='tahun4' style='vertical-align:middle;' rowspan='3'></th>";
            th += "<th id='tahun5' style='vertical-align:middle;' rowspan='3'></th>";
            th += "</tr>";
            th += "<tr class='trreal'>";
            th += "<th id='tahun11' colspan='2'></th>";
            th += "<th id='tahun12' colspan='2'></th>";
            th += "<th id='tahun13' colspan='2'></th>";
            th += "<th id='tahun14' colspan='2'></th>";
            th += "<th id='tahun15' colspan='2'></th>";
            th += "</tr>";
            th += "<tr>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "</tr>";
            $("#tabgrafik > thead").append(th);
            var row = "<tr>";
            for (var i=1; i<=20; i++) {
            	row += "<td style='text-align:center;' id='col"+i+"'></td>";
            }
            row += "</tr>";
            $("#tabgrafik > tbody").append(row);
            $("#col19").text(name);
        }

        function headquarterly() {
            var th = "<tr>";
            th += "<th id='th0' style='vertical-align:middle;width:10%;' rowspan='4'>Role</th>";
            th += "<th id='th1' style='vertical-align:middle;width:10%;' rowspan='4'>Satuan</th>";
            th += "<th id='th2' style='vertical-align:middle;' colspan='5'>Target per Tahun</th>";
            th += "<th id='th3' style='vertical-align:middle;' colspan='20'>Realisasi per Semester</th>";
            th += "<th id='th4' style='vertical-align:middle;word-wrap:break-word;max-width:100px;' rowspan='4'>Realisasi Anggaran<br>Tahun Berjalan<br>(juta)</th>";
            th += "<th id='th5' style='vertical-align:middle;' rowspan='4'>Sumber Pendanaan</th>";
            th += "<th id='th6' style='vertical-align:middle;' rowspan='4'>Pelaku</th>";
            th += "</tr>";
            th += "<tr class='trtarget'>";
            th += "<th id='tahun1' style='vertical-align:middle;' rowspan='3'></th>";
            th += "<th id='tahun2' style='vertical-align:middle;' rowspan='3'></th>";
            th += "<th id='tahun3' style='vertical-align:middle;' rowspan='3'></th>";
            th += "<th id='tahun4' style='vertical-align:middle;' rowspan='3'></th>";
            th += "<th id='tahun5' style='vertical-align:middle;' rowspan='3'></th>";
            th += "</tr>";
            th += "<tr class='trreal'>";
            th += "<th id='tahun11' colspan='4'></th>";
            th += "<th id='tahun12' colspan='4'></th>";
            th += "<th id='tahun13' colspan='4'></th>";
            th += "<th id='tahun14' colspan='4'></th>";
            th += "<th id='tahun15' colspan='4'></th>";
            th += "</tr>";
            th += "<tr>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>III</th>";
            th += "<th>IV</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>III</th>";
            th += "<th>IV</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>III</th>";
            th += "<th>IV</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>III</th>";
            th += "<th>IV</th>";
            th += "<th>I</th>";
            th += "<th>II</th>";
            th += "<th>III</th>";
            th += "<th>IV</th>";
            th += "</tr>";
            $("#tabgrafik > thead").append(th);
            var row = "<tr>";
            for (var i=1; i<=30; i++) {
            	row += "<td style='text-align:center;' id='col"+i+"'></td>";
            }
            row += "</tr>";
            $("#tabgrafik > tbody").append(row);
            $("#col29").text(name);
        }

        indo();

        if (lang == "0") {
            indo();
        } else {
            inggris();
        }

        $('#fs').on('change', function(){
            if($(this).is(':checked')){
                indo();
            } else {
                inggris();
            }
        });

        function indo() {
            $("#title").text("Grafik hasil Pelaporan");
            $("#th0").text("Role");
            $("#th1").text("Satuan");
            $("#th2").text("Target per Tahun");
            if (periode == "yearly") {
                $("#th3").text("Realisasi per Tahun");
            } else if (periode == "semesterly") {
                $("#th3").text("Realisasi per Semester");
            } else if (periode == "quarterly") {
                $("#th3").text("Realisasi per Kwartal");
            }
            $("#th4").text("Realisasi Pendanaan Tahun Berjalan\n(juta)");
            $("#th5").text("Sumber Pendanaan");
            $("#th6").text("Pelaku");
            $("#back").text("Kembali");
        }

        function inggris() {
            $("#title").text("Monitoring Graph");
            $("#th0").text("Role");
            $("#th1").text("Unit");
            $("#th2").text("Anually Target");
            if (periode == "yearly") {
                $("#th3").text("Anually Realization");
            } else if (periode == "semesterly") {
                $("#th3").text("Semesterly Realization");
            } else if (periode == "quarterly") {
                $("#th3").text("Quarterly Realization");
            }
            $("#th4").text("Budget Realization in Current Year\n(million)");
            $("#th5").text("Funding Source");
            $("#th6").text("Actor");
            $("#back").text("B a c k");
        }
        
        //============================== Content Table ==============================
        //var tahun = [$("#tahun1").text(),$("#tahun2").text(),$("#tahun3").text(),$("#tahun4").text(),$("#tahun5").text()];
        if (flag == "1") {
        	$.ajax({
        		url: urls + "getheaderyear",
                type: 'get',
                data: {'id_monper':idmonper,'id_prov':valdaerah},
                dataType: 'json',
                cache: false,
                success: function (resheader) {
                	//console.log(resheader);
                	var a = parseInt(resheader[0], 10);
                	$("#tahun1").text(a);$("#tahun2").text(a+1);$("#tahun3").text(a+2);$("#tahun4").text(a+3);$("#tahun5").text(a+4);
                    $("#tahun11").text(a);$("#tahun12").text(a+1);$("#tahun13").text(a+2);$("#tahun14").text(a+3);$("#tahun15").text(a+4);
                }
        	});
        	$.ajax({
        		url: urls + "getunit",
                type: 'get',
                data: {'id_sdg_indicator':idsdgindikator},
                dataType: 'json',
                cache: false,
                success: function (resunit) {
                	//console.log(resunit);
                	$("#col2").text(resunit[0]);
                }
        	});
        	for (var i=0; i<tahun.length; i++) {
	        	$.ajax({
	        		url: urls + "getentrysdg",
	                type: 'get',
	                data: {'id_sdg_indicator':idsdgindikator,'id_role':valdaerah,'year':tahun[i]},
	                dataType: 'json',
	                cache: false,
	                success: function (restar) {
	                	//console.log(restar);
	                	if (restar.length == 0) {
		                	for (var j=2; j<tahun.length+2; j++) {
		                		$("#col"+j).text(0);
		                	}
	                	} else {
	                		for (var j=2; j<tahun.length+2; j++) {
		                		$("#col"+j).text(restar[i]);
		                	}
	                	}
	                }
	        	});
        	}
        	for (var i=0; i<tahun.length; i++) {
            	$.ajax({
            		url: urls + "getshowrep",
                    type: 'get',
                    data: {'id_monper':idmonper,'year':tahun[i]},
                    dataType: 'json',
                    cache: false,
                    async: false,
                    success: function (resreal) {
                    	//console.log(resreal);
                    	if (resreal[0] == 1) {
                    		if (periode == "yearly") {
                    			$.ajax({
                        			url: urls + "getrealyear",
                                    type: 'get',
                                    data: {'id_monper':idmonper,'year':tahun[i]},
                                    dataType: 'json',
                                    cache: false,
                                    async: false,
                                    success: function (real) {
                                    	//console.log(real);
                                    }
                        		});
                    		} else if (periode == "semesterly") {
                    			
                    		} else if (periode == "quarterly") {
                    			
                    		}
                    	}
                    }
            	});
        	}
        	$.ajax({
        		url: urls + "getsdgfunding",
                type: 'get',
                data: {'id_sdg_indicator':idsdgindikator,'id_monper':idmonper},
                dataType: 'json',
                cache: false,
                success: function (resfund) {
                	//console.log(resfund);
                	if (periode == "yearly") {
                    	$("#col13").text(resfund[0]);
                	} else if (periode == "semesterly") {
                		$("#col17").text(resfund[0]);
                	} else if (periode == "quarterly") {
                		$("#col25").text(resfund[0]);
                	}
                }
        	});
        } else if (flag == "2") {
        	$.ajax({
        		url: urls + "getheaderyear",
                type: 'get',
                data: {'id_monper':idmonper,'id_prov':valdaerah},
                dataType: 'json',
                cache: false,
                success: function (resheader) {
                	//console.log(resheader);
                	var a = parseInt(resheader[0], 10);
                	$("#tahun1").text(a);$("#tahun2").text(a+1);$("#tahun3").text(a+2);$("#tahun4").text(a+3);$("#tahun5").text(a+4);
                    $("#tahun11").text(a);$("#tahun12").text(a+1);$("#tahun13").text(a+2);$("#tahun14").text(a+3);$("#tahun15").text(a+4);

                	var tahun = [$("#tahun1").text(),$("#tahun2").text(),$("#tahun3").text(),$("#tahun4").text(),$("#tahun5").text()];
                	//========= Isi kolom target ===========
                	var valtar = [];
                	for (var i=0; i<tahun.length; i++) {
        	        	$.ajax({
        	        		url: urls + "getgovtarget",
        	                type: 'get',
        	                data: {'id_gov_indicator':idsdgindikator,'year':tahun[i]},
        	                dataType: 'json',
        	                cache: false,
        	                async: false,
        	                success: function (resgovtarget) {
        	                	//console.log(resgovtarget);
        	                	valtar.push(resgovtarget[0]);
        	                }
        	        	});
                	}
                	$("#col2").text(valtar[0]);$("#col3").text(valtar[1]);$("#col4").text(valtar[2]);$("#col5").text(valtar[3]);$("#col6").text(valtar[4]);
                	var no = 0;
                	var idassign = [];
                	$.ajax({
       	        		url: urls + "cekshowreport",
       	                type: 'get',
       	                data: {'id_monper':idmonper,'year':tahun[0]},
       	                dataType: 'json',
       	                cache: false,
       	                success: function (rescek) {
       	                	//console.log(rescek);
       	                	if (rescek[0] == 1) {
       	                		$.ajax({
       	                			url: urls + "getidassign",
       		       	                type: 'get',
       		       	                data: {'id_monper':idmonper,'id_prov':valdaerah},
       		       	                dataType: 'json',
       		       	                cache: false,
       		       	                success: function (resreal) {
       		       	                	//console.log(resreal);
       		       	                	if (periode == "yearly") {
	       		       	                	var val = [];
						                	for (var i=0; i<tahun.length; i++) {
						                		$.ajax({
						                			url: urls + "getgovrealyear",
							       	                type: 'get',
							       	                data: {'id_monper':idmonper,'year_entry':tahun[i]},
							       	                dataType: 'json',
							       	                cache: false,
							       	                async: false,
							       	                success: function (resreal) {
							       	                	//console.log(resreal);
							       	                	val.push(resreal[0]);
							       	                }
						                		});
						                	}
						                	$("#col7").text(val[0][0]);$("#col8").text(val[1][0]);
						                	$("#col9").text(val[2][0]);$("#col10").text(val[3][0]);
						                	$("#col11").text(val[4][0]);
					                	} else if (periode == "semesterly") {
					                		var val = [];
						                	for (var i=0; i<tahun.length; i++) {
						                		$.ajax({
						                			url: urls + "getgovrealsemester",
							       	                type: 'get',
							       	                data: {'id_monper':idmonper,'year_entry':tahun[i]},
							       	                dataType: 'json',
							       	                cache: false,
							       	                async: false,
							       	                success: function (resreal) {
							       	                	//console.log(resreal);
							       	                	val.push(resreal[0]);
							       	                }
						                		});
						                	}
						                	$("#col7").text(val[0][0]);$("#col8").text(val[0][1]);
						                	$("#col9").text(val[1][0]);$("#col10").text(val[1][1]);
						                	$("#col11").text(val[2][0]);$("#col12").text(val[2][1]);
						                	$("#col13").text(val[3][0]);$("#col14").text(val[3][1]);
						                	$("#col15").text(val[4][0]);$("#col16").text(val[4][1]);
					                	} else if (periode == "quarterly") {
					                		var val = [];
						                	for (var i=0; i<tahun.length; i++) {
						                		$.ajax({
						                			url: urls + "getgovrealquarter",
							       	                type: 'get',
							       	                data: {'id_monper':idmonper,'year_entry':tahun[i]},
							       	                dataType: 'json',
							       	                cache: false,
							       	                async: false,
							       	                success: function (resreal) {
							       	                	//console.log(resreal);
							       	                	val.push(resreal[0]);
							       	                }
						                		});
						                	}
						                	$("#col7").text(val[0][0]);$("#col8").text(val[0][1]);$("#col9").text(val[0][2]);$("#col10").text(val[0][3]);
						                	$("#col11").text(val[1][0]);$("#col12").text(val[1][1]);$("#col13").text(val[1][2]);$("#col14").text(val[1][3]);
						                	$("#col15").text(val[2][0]);$("#col16").text(val[2][1]);$("#col17").text(val[2][2]);$("#col18").text(val[2][3]);
						                	$("#col19").text(val[3][0]);$("#col20").text(val[3][1]);$("#col21").text(val[3][2]);$("#col22").text(val[3][3]);
						                	$("#col23").text(val[3][0]);$("#col24").text(val[3][1]);$("#col25").text(val[3][2]);$("#col26").text(val[3][3]);
					                	}
       		       	                }
       	                		});
       	                		$.ajax({
       	                			url: urls + "getgovunit",
       	        	                type: 'get',
       	        	                data: {'id_gov_indicator':idsdgindikator},
       	        	                dataType: 'json',
       	        	                cache: false,
       	        	                success: function (resunit) {
       	        	                	//console.log(resunit);
       	        	                	$("#col1").text(resunit[0]);
       	        	                }
       	                		});
       	                		$.ajax({
       	                			url: urls + "getgovfund",
       	        	                type: 'get',
       	        	                data: {'id_gov_indicator':idsdgindikator,'id_monper':idmonper},
       	        	                dataType: 'json',
       	        	                cache: false,
       	        	                success: function (resfund) {
       	        	                	//console.log(resfund[0]);
       	        	                	$("#col17").text(resfund[0][1]);
       	        	                	$("#col18").text(resfund[0][0]);
       	        	                }
       	                		});
       	                		$.ajax({
       	                			url: urls + "getgovgoals",
       	        	                type: 'get',
       	        	                data: {'id_prov':valdaerah,'id_monper':idmonper,'id_gov_indicator':idsdgindikator},
       	        	                dataType: 'json',
       	        	                cache: false,
       	        	                success: function (resgoal) {
       	        	                	//console.log(resgoal);
       	        	                	var gls = "<b><span>Goal : "+resgoal[0][2]+"</span></b><br>";
       	        	                	gls += "<b><span>Target : "+resgoal[0][5]+"</span></b><br>";
       	        	                	gls += "<b><span>Indikator : "+resgoal[0][8]+"</span></b><br><hr>";
       	        	                	$("#divgoals").append(gls);
       	        	                }
       	                		});
        	                	$.ajax({
	        	                	url: urls + "cekgovranrad",
  	       	        	            type: 'get',
  	       	        	            data: {'id_monper':idmonper,'id_prov':valdaerah},
  	       	        	            dataType: 'json',
  	       	        	            cache: false,
  	       	        	            success: function (resranrad) {
  	       	        	               	//console.log(resranrad);
  	       	        	             	if (resranrad[0] == "yearly") {
  	       	        	             		var th = "<tr>";
		  	       	        	            th += "<th id='th1' style='vertical-align:middle;width:10%;' rowspan='4'>Satuan</th>";
		  	       	        	            th += "<th id='th2' style='vertical-align:middle;' colspan='5'>Target per Tahun</th>";
		  	       	        	            th += "<th id='th3' style='vertical-align:middle;' colspan='5'>Realisasi per Tahun</th>";
		  	       	        	            th += "<th id='th4' style='vertical-align:middle;word-wrap:break-word;max-width:100px;' rowspan='4'>Realisasi Anggaran<br>Tahun Berjalan<br>(juta)</th>";
		  	       	        	            th += "<th id='th5' style='vertical-align:middle;' rowspan='4'>Sumber Pendanaan</th>";
		  	       	        	            th += "<th id='th6' style='vertical-align:middle;' rowspan='4'>Pelaku</th>";
		  	       	        	            th += "</tr>";
		  	       	        	            th += "<tr class='trtarget'>";
		  	       	        	            th += "<th id='tahun11' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "<th id='tahun21' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "<th id='tahun31' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "<th id='tahun41' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "<th id='tahun51' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "</tr>";
		  	       	        	            th += "<tr class='trreal'>";
		  	       	        	            th += "<th id='tahun111' colspan='1'></th>";
		  	       	        	            th += "<th id='tahun121' colspan='1'></th>";
		  	       	        	            th += "<th id='tahun131' colspan='1'></th>";
		  	       	        	            th += "<th id='tahun141' colspan='1'></th>";
		  	       	        	            th += "<th id='tahun151' colspan='1'></th>";
		  	       	        	            th += "</tr>";
		  	       	        	            th += "<tr>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "</tr>";
  	       	        	                	$("#tabsdg > thead").append(th);
		  	       	        	            var row = "<tr>";
		  	       	        	            for (var i=1; i<=14; i++) {
		  	       	        	            	row += "<td style='text-align:center;' id='colsdg"+i+"'></td>";
		  	       	        	            }
		  	       	        	            row += "</tr>";
  	       	        	                	$("#tabsdg > tbody").append(row);
  	       	        	                	$("#colsdg14").text(name);
		  	       	        	            $.ajax({
		  	       	        	        		url: urls + "getheaderyear",
		  	       	        	                type: 'get',
		  	       	        	                data: {'id_monper':idmonper,'id_prov':valdaerah},
		  	       	        	                dataType: 'json',
		  	       	        	                cache: false,
		  	       	        	                success: function (resheader) {
		  	       	        	                	//console.log(resheader);
		  	       	        	                	var a = parseInt(resheader[0], 10);
		  	       	        	                	$("#tahun11").text(a);$("#tahun21").text(a+1);$("#tahun31").text(a+2);$("#tahun41").text(a+3);$("#tahun51").text(a+4);
		  	       	        	                    $("#tahun111").text(a);$("#tahun121").text(a+1);$("#tahun131").text(a+2);$("#tahun141").text(a+3);$("#tahun151").text(a+4);
		  	       	        	                    var tsdg = [$("#tahun11").text(),$("#tahun21").text(),$("#tahun31").text(),$("#tahun41").text(),$("#tahun51").text()];
		  	       	        	                    var psh = [];
		  	       	        	                    for (var i=0; i<tsdg.length; i++) {
			  	       	        	                    $.ajax({
				  	       	        	                   	url: urls + "getsdgtar",
					  	       	        	                type: 'get',
					  	       	        	                data: {'id_gov_indicator':idsdgindikator,'id_role':valrole,'year':tsdg[i]},
					  	       	        	                dataType: 'json',
					  	       	        	                cache: false,
					  	       	        	                success: function (ressdgtar) {
					  	       	        	                	console.log(ressdgtar);
					  	       	        	                	psh.push(ressdgtar[0]);
					  	       	        	                }
			  	       	        	                    });
		  	       	        	                    }
		  	       	        	                	$("#colsdg2").text(psh[0]);$("#colsdg3").text(psh[1]);$("#colsdg4").text(psh[2]);$("#colsdg5").text(psh[3]);$("#colsdg6").text(psh[4]);
		  	       	        	                	var nil = [];
			  	       	        	               	for (var i=0; i<tsdg.length; i++) {
			  	       	        	                    $.ajax({
				  	       	        	                   	url: urls + "getsdgreal",
					  	       	        	                type: 'get',
					  	       	        	                data: {'id_gov_indicator':idsdgindikator,'id_role':valrole,'year':tsdg[i],'id_monper':idmonper},
					  	       	        	                dataType: 'json',
					  	       	        	                cache: false,
					  	       	        	                success: function (ressdgtar) {
					  	       	        	                	//console.log(ressdgtar[0]);
					  	       	        	                	nil.push(ressdgtar[0]);
					  	       	        	                }
			  	       	        	                    });
		  	       	        	                     }
			  	       	        	                 $("#colsdg7").text(nil[0]);$("#colsdg8").text(nil[1]);$("#colsdg9").text(nil[2]);$("#colsdg10").text(nil[3]);$("#colsdg11").text(nil[4]);
			  	       	        	                 $.ajax({
				  	       	        	                url: urls + "getsdgfund",
				  	       	        	                type: 'get',
				  	       	        	                data: {'id_gov_indicator':idsdgindikator,'id_monper':idmonper},
				  	       	        	                dataType: 'json',
				  	       	        	                cache: false,
				  	       	        	                success: function (res) {
				  	       	        	                	//console.log(res);
				  	       	        	               		$("#colsdg12").text(res[0][1]);$("#colsdg13").text(res[0][0]);
				  	       	        	                }
			  	       	        	                 });
				  	       	        	            $.ajax({
				  	       	        	                url: urls + "getsdgunit",
				  	       	        	                type: 'get',
				  	       	        	                data: {'id_gov_indicator':idsdgindikator},
				  	       	        	                dataType: 'json',
				  	       	        	                cache: false,
				  	       	        	                success: function (hasil) {
				  	       	        	                	//console.log(hasil);
				  	       	        	               		$("#colsdg1").text(hasil[0]);
				  	       	        	                }
			  	       	        	                 });
		  	       	        	                }
		  	       	        	        	});
  	       	        	                } else if (resranrad[0] == "semesterly") {
  	       	        	                	//alert(resranrad[0]);
	  	       	        	               	var th = "<tr>";
		  	       	        	            th += "<th id='th1' style='vertical-align:middle;width:10%;' rowspan='4'>Satuan</th>";
		  	       	        	            th += "<th id='th2' style='vertical-align:middle;' colspan='5'>Target per Tahun</th>";
		  	       	        	            th += "<th id='th3' style='vertical-align:middle;' colspan='10'>Realisasi per Semester</th>";
		  	       	        	            th += "<th id='th4' style='vertical-align:middle;word-wrap:break-word;max-width:100px;' rowspan='4'>Realisasi Anggaran<br>Tahun Berjalan<br>(juta)</th>";
		  	       	        	            th += "<th id='th5' style='vertical-align:middle;' rowspan='4'>Sumber Pendanaan</th>";
		  	       	        	            th += "<th id='th6' style='vertical-align:middle;' rowspan='4'>Pelaku</th>";
		  	       	        	            th += "</tr>";
		  	       	        	            th += "<tr class='trtarget'>";
		  	       	        	            th += "<th id='tahun1' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "<th id='tahun2' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "<th id='tahun3' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "<th id='tahun4' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "<th id='tahun5' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "</tr>";
		  	       	        	            th += "<tr class='trreal'>";
		  	       	        	            th += "<th id='tahun11' colspan='2'></th>";
		  	       	        	            th += "<th id='tahun12' colspan='2'></th>";
		  	       	        	            th += "<th id='tahun13' colspan='2'></th>";
		  	       	        	            th += "<th id='tahun14' colspan='2'></th>";
		  	       	        	            th += "<th id='tahun15' colspan='2'></th>";
		  	       	        	            th += "</tr>";
		  	       	        	            th += "<tr>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>II</th>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>II</th>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>II</th>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>II</th>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>II</th>";
		  	       	        	            th += "</tr>";
		  	       	        	            $("#tabsdg > thead").append(th);
		  	       	        	            var row = "<tr>";
		  	       	        	            for (var i=1; i<=19; i++) {
		  	       	        	            	row += "<td style='text-align:center;' id='colsdg"+i+"'></td>";
		  	       	        	            }
		  	       	        	            row += "</tr>";
  	       	        	                	$("#tabsdg > tbody").append(row);
  	       	        	                	$("#colsdg19").text(name);
  	       	        	                } else if (resranrad[0] == "quarterly") {
	  	       	        	               	var th = "<tr>";
		  	       	        	            th += "<th id='th1' style='vertical-align:middle;width:10%;' rowspan='4'>Satuan</th>";
		  	       	        	            th += "<th id='th2' style='vertical-align:middle;' colspan='5'>Target per Tahun</th>";
		  	       	        	            th += "<th id='th3' style='vertical-align:middle;' colspan='20'>Realisasi per Semester</th>";
		  	       	        	            th += "<th id='th4' style='vertical-align:middle;word-wrap:break-word;max-width:100px;' rowspan='4'>Realisasi Anggaran<br>Tahun Berjalan<br>(juta)</th>";
		  	       	        	            th += "<th id='th5' style='vertical-align:middle;' rowspan='4'>Sumber Pendanaan</th>";
		  	       	        	            th += "<th id='th6' style='vertical-align:middle;' rowspan='4'>Pelaku</th>";
		  	       	        	            th += "</tr>";
		  	       	        	            th += "<tr class='trtarget'>";
		  	       	        	            th += "<th id='tahun1' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "<th id='tahun2' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "<th id='tahun3' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "<th id='tahun4' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "<th id='tahun5' style='vertical-align:middle;' rowspan='3'></th>";
		  	       	        	            th += "</tr>";
		  	       	        	            th += "<tr class='trreal'>";
		  	       	        	            th += "<th id='tahun11' colspan='4'></th>";
		  	       	        	            th += "<th id='tahun12' colspan='4'></th>";
		  	       	        	            th += "<th id='tahun13' colspan='4'></th>";
		  	       	        	            th += "<th id='tahun14' colspan='4'></th>";
		  	       	        	            th += "<th id='tahun15' colspan='4'></th>";
		  	       	        	            th += "</tr>";
		  	       	        	            th += "<tr>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>II</th>";
		  	       	        	            th += "<th>III</th>";
		  	       	        	            th += "<th>IV</th>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>II</th>";
		  	       	        	            th += "<th>III</th>";
		  	       	        	            th += "<th>IV</th>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>II</th>";
		  	       	        	            th += "<th>III</th>";
		  	       	        	            th += "<th>IV</th>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>II</th>";
		  	       	        	            th += "<th>III</th>";
		  	       	        	            th += "<th>IV</th>";
		  	       	        	            th += "<th>I</th>";
		  	       	        	            th += "<th>II</th>";
		  	       	        	            th += "<th>III</th>";
		  	       	        	            th += "<th>IV</th>";
		  	       	        	            th += "</tr>";
		  	       	        	            $("#tabsdg > thead").append(th);
		  	       	        	            var row = "<tr>";
		  	       	        	            for (var i=1; i<=29; i++) {
		  	       	        	            	row += "<td style='text-align:center;' id='colsdg"+i+"'></td>";
		  	       	        	            }
		  	       	        	            row += "</tr>";
  	       	        	                	$("#tabsdg > tbody").append(row);
  	       	        	                	$("#colsdg29").text(name);
  	       	        	                }
  	       	        	            }
  	        	                });
       	                	} else {
       	                		swal("Data belum ada di daftar show report");
       	                	}
       	                }
                	});
                	
                }
        	});
        	
        } else if (flag == "3") {
        	$.ajax({
        		url: urls + "getheaderyear",
                type: 'get',
                data: {'id_monper':idmonper,'id_prov':valdaerah},
                dataType: 'json',
                cache: false,
                success: function (resheader) {
                	//console.log(resheader);
                	var a = parseInt(resheader[0], 10);
                	$("#tahun1").text(a);$("#tahun2").text(a+1);$("#tahun3").text(a+2);$("#tahun4").text(a+3);$("#tahun5").text(a+4);
                    $("#tahun11").text(a);$("#tahun12").text(a+1);$("#tahun13").text(a+2);$("#tahun14").text(a+3);$("#tahun15").text(a+4);
                }
        	});
        }
        
      //************************** Grafik / Chart **************************
        $("#pilgrafik").on("change", function() {
            var chart4;
            $("#pilgrafik").show();
            var tahun = [$("#tahun1").text(),$("#tahun2").text(),$("#tahun3").text(),$("#tahun4").text(),$("#tahun5").text()];
            var valtarget = [
                parseInt($("#col2").text(), 10),
                parseInt($("#col3").text(), 10),
                parseInt($("#col4").text(), 10),
                parseInt($("#col5").text(), 10),
                parseInt($("#col6").text(), 10)
            ];
            var tahun1 = [ parseInt($("#colsdg2").text(), 10)
                          ,parseInt($("#colsdg3").text(), 10)
                          ,parseInt($("#colsdg4").text(), 10)
                          ,parseInt($("#colsdg5").text(), 10)
                          ,parseInt($("#colsdg6").text(), 10)
                        ];
           var tahun2 =  [ parseInt($("#colsdg7").text(), 10)
                          ,parseInt($("#colsdg8").text(), 10)
                          ,parseInt($("#colsdg9").text(), 10)
                          ,parseInt($("#colsdg10").text(), 10)
                          ,parseInt($("#colsdg11").text(), 10)
                        ];
            if (periode == "yearly") {
                valreal1 = [
                    parseInt($("#col7").text(), 10),
                    parseInt($("#col8").text(), 10),
                    parseInt($("#col9").text(), 10),
                    parseInt($("#col10").text(), 10),
                    parseInt($("#col11").text(), 10)
                ];
                 var options4 ={
                    chart: {
                        zoomType: 'xy',
                        renderTo: 'dualaxes'
                    },
                    //colors: ['#7cb5ec', '#91e8e1', '#90ed7d', '#f7a35c', '#8085e9', '#f15c80', '#e4d354', '#8085e8', '#8d4653', '#91e8e1'],

                    title: {
                        text: 'Komparasi Target dan Realisasi '
                    },
                    credits: {
                        enabled: false
                      },
                    subtitle: {
                        text: 'Combination chart'
                    },
                    xAxis: [{
                        categories: tahun
                    }],
                    yAxis: [{ // Primary yAxis
                        labels: {
                            format: '{value}',
                            style: {
                                color: Highcharts.getOptions().colors[1]
                            }
                        },
                        min: 0,
                        //max:100,
                        title: {
                            text: '',
                            style: {
                                color: Highcharts.getOptions().colors[1]
                            }
                        }, opposite: true
                    }, { // Secondary yAxis
                        title: {
                            text: '',
                            style: {
                                color: Highcharts.getOptions().colors[0]
                            }
                        },
                        min: 0,
                        //max: 100,
                        labels: {
                            format: '{value}',
                            style: {
                                color: Highcharts.getOptions().colors[0],
//                                display:'none'
                            }
                        },
                       
                    }],
                    tooltip: {
                        shared: true
                    },
                     legend: {
                        layout: 'vertical',
                        align: 'right',
                        x: 0,
                        verticalAlign: 'top',
                        y: 55,
                        floating: true,
                        backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
                    },
                    plotOptions: {
                        column: {
                            stacking: 'normal',
                            dataLabels: {
                                enabled: true
                            }
                        }
                    },
                    series: [
                        {
                            name: 'Yearly',
                            type: 'column',

                            yAxis: 1,
                            data: valreal1,
                            tooltip: {
    //                            valueSuffix: ' %'
                                }
                        },
                        {
                            name: 'Target',
                            type: 'spline',
                            data: valtarget,
                             yAxis: 1,
                            tooltip: {
//                          valueSuffix: '%'
                            }
                        },{
                            name: 'Target SDGS',
                            type: 'spline',
                            data: tahun1,
                            yAxis: 1,
                            tooltip: {
//                          valueSuffix: '%'
                            }
                        },
                        {
                            name: 'Realisasi SDGS',
                            type: 'spline',
                            data: tahun2,
                            yAxis: 1,
                            tooltip: {
//                          valueSuffix: '%'
                            }
                        }],
                    colors: Highcharts.map(Highcharts.getOptions().colors, function (color) {
                            return {
                                radialGradient: {cx: 0.5,cy: 0.3,r: 0.7},
                                stops: [[0, color],[1, Highcharts.Color(color).brighten(-0.3).get('rgb')] ]
                            };
                        })
              }
              eval(function(p,a,c,k,e,r){e=String;if(!''.replace(/^/,String)){while(c--)r[c]=k[c]||c;k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('0=1 2.3(4);',5,5,'chart4|new|Highcharts|Chart|options4'.split('|'),0,{}))
            } else if (periode == "semesterly") {
//                if (typeof(chart4)==='object'){
//                    console.log(typeof(chart4));
//                    return false;
////                    chart4.destroy();
//                }else{
//                     console.log(typeof(chart4));
////                     return false;
//                }
                var valreal1 = [
                    parseInt($("#col7").text(), 10),
                    parseInt($("#col8").text(), 10),
                    parseInt($("#col9").text(), 10),
                    parseInt($("#col10").text(), 10),
                    parseInt($("#col11").text(), 10)
                ];
                var valreal2 = [
                    parseInt($("#col12").text(), 10),
                    parseInt($("#col13").text(), 10),
                    parseInt($("#col14").text(), 10),
                    parseInt($("#col15").text(), 10),
                    parseInt($("#col16").text(), 10)
                ];
//                console.log(parseInt($("#td11").text(), 10));
              var options4 ={
                    chart: {
                        zoomType: 'xy',
                        renderTo: 'dualaxes'
                    },
                    //colors: ['#7cb5ec', '#91e8e1', '#90ed7d', '#f7a35c', '#8085e9', '#f15c80', '#e4d354', '#8085e8', '#8d4653', '#91e8e1'],

                    title: {
                        text: 'Komparasi Target dan Realisasi '
                    },
                    credits: {
                        enabled: false
                      },
                    subtitle: {
                        text: 'Combination chart'
                    },
                    xAxis: [{
                        categories: tahun
                    }],
                    yAxis: [{ // Primary yAxis
                        labels: {
                            format: '{value}',
                            style: {
                                color: Highcharts.getOptions().colors[1]
                            }
                        },
//                        min: 0,
                        //max:100,
                        title: {
                            text: '',
                            style: {
                                color: Highcharts.getOptions().colors[1]
                            }
                        },
                        opposite: true
                    }, { // Secondary yAxis
                        title: {
                            text: '',
                            style: {
                                color: Highcharts.getOptions().colors[0]
                            }
                        },
//                        min: 0,
                        //max: 100,
                        labels: {
                            format: '{value}',
                            style: {
                                color: Highcharts.getOptions().colors[0],
//                                display:'none'
                            }
                        },
                        
                    }],
                    tooltip: {
                        shared: true
                    },
                    legend: {
                        layout: 'vertical',
                        align: 'right',
                        x: 0,
                        verticalAlign: 'top',
                        y: 55,
                        floating: true,
                        backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
                    },
                    plotOptions: {
                        column: {
                            stacking: 'normal',
                            dataLabels: {
                                enabled: true
                            }
                        }
                    },
                    series: [
                        {
                            name: 'Semester I',
                            type: 'column',

                            yAxis: 1,
                            data: valreal1,
                            tooltip: {
    //                            valueSuffix: ' %'
                                }
                        },
                        {
                          name: 'Semester II',
                          yAxis: 1,
                          type: 'column',
                          tooltip: {
//                                 valueSuffix: ' %'
                          },
                          data: valreal2
                        },
                        {
                            name: 'Target',
                            type: 'spline',
                            yAxis: 1,
                            data: valtarget,
                            tooltip: {
//                          valueSuffix: '%'
                            }
                        },{
                            name: 'Target SDGS',
                            type: 'spline',
                            data: tahun1,
                            yAxis: 1,
                            tooltip: {
//                          valueSuffix: '%'
                            }
                        },
                        {
                            name: 'Realisasi SDGS',
                            type: 'spline',
                            data: tahun2,
                            yAxis: 1,
                            tooltip: {
//                          valueSuffix: '%'
                            }
                        }],
                     colors: Highcharts.map(Highcharts.getOptions().colors, function (color) {
                            return {
                                radialGradient: {cx: 0.5,cy: 0.3,r: 0.7},
                                stops: [[0, color],[1, Highcharts.Color(color).brighten(-0.3).get('rgb')] ]
                            };
                        })
              }

              eval(function(p,a,c,k,e,r){e=String;if(!''.replace(/^/,String)){while(c--)r[c]=k[c]||c;k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('0=1 2.3(4);',5,5,'chart4|new|Highcharts|Chart|options4'.split('|'),0,{}))
//                                            });
            } else if (periode == "quarterly") {
                var valreal1 = [
                    parseInt($("#col7").text(), 10),
                    parseInt($("#col8").text(), 10),
                    parseInt($("#col9").text(), 10),
                    parseInt($("#col10").text(), 10),
                    parseInt($("#col11").text(), 10)
                ];
                var valreal2 = [
                    parseInt($("#col12").text(), 10),
                    parseInt($("#col13").text(), 10),
                    parseInt($("#col14").text(), 10),
                    parseInt($("#col15").text(), 10),
                    parseInt($("#col16").text(), 10)
                ];
                var valreal3 = [
                    parseInt($("#col17").text(), 10),
                    parseInt($("#col18").text(), 10),
                    parseInt($("#col19").text(), 10),
                    parseInt($("#col20").text(), 10),
                    parseInt($("#col21").text(), 10)
                ];
                var valreal4 = [
                    parseInt($("#col22").text(), 10),
                    parseInt($("#col23").text(), 10),
                    parseInt($("#col24").text(), 10),
                    parseInt($("#col25").text(), 10),
                    parseInt($("#col26").text(), 10)
                ];
                
                var seri = [
                    {name: 'Triwulan I', type: 'column', yAxis: 1, data: valreal1, tooltip: {} },
                    {name: 'Triwulan I', type: 'column', yAxis: 1, data: valreal1, tooltip: {} },
                    {name: 'Triwulan I', type: 'column', yAxis: 1, data: valreal1, tooltip: {} },
                    {name: 'Triwulan I', type: 'column', yAxis: 1, data: valreal1, tooltip: {} },
                    {name: 'Triwulan I', type: 'column', yAxis: 1, data: valreal1, tooltip: {} }
                ];
                
                 var options4 ={
                    chart: {
                        zoomType: 'xy',
                        renderTo: 'dualaxes'
                    },
                    //colors: ['#7cb5ec', '#91e8e1', '#90ed7d', '#f7a35c', '#8085e9', '#f15c80', '#e4d354', '#8085e8', '#8d4653', '#91e8e1'],

                    title: {
                        text: 'Komparasi Target dan Realisasi '
                    },
                    credits: {
                        enabled: false
                      },
                    subtitle: {
                        text: 'Combination chart'
                    },
                    xAxis: [{
                        categories: tahun
                    }],
                    yAxis: [{ // Primary yAxis
                        labels: {
                            format: '{value}',
                            style: {
                                color: Highcharts.getOptions().colors[1]
                            }
                        },
                        min: 0,
                        //max:100,
                        title: {
                            text: '',
                            style: {
                                color: Highcharts.getOptions().colors[1]
                            }
                        },opposite: true
                    }, { // Secondary yAxis
                        title: {
                            text: '',
                            style: {
                                color: Highcharts.getOptions().colors[0]
                            }
                        },
                        min: 0,
                        //max: 100,
                        labels: {
                            format: '{value}',
                            style: {
                                color: Highcharts.getOptions().colors[0],
//                                display:'none'
                            }
                        },
                        
                    }],
                    tooltip: {
                        shared: true
                    },
                    legend: {
                        layout: 'vertical',
                        align: 'right',
                        x: 0,
                        verticalAlign: 'top',
                        y: 55,
                        floating: true,
                        backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
                    },
                    plotOptions: {
                        column: {
                            stacking: 'normal',
                            dataLabels: {
                                enabled: true
                            }
                        }
                    },
                    series: 
                            [
                        {
                            name: 'Triwulan I',
                            type: 'column',

                            yAxis: 1,
                            data: valreal1,
                            tooltip: {
    //                            valueSuffix: ' %'
                                }
                        },
                        {
                          name: 'Triwulan II',
                          yAxis: 1,
                          type: 'column',
                          tooltip: {
//                                 valueSuffix: ' %'
                          },
                          data: valreal2
                        },
                        {
                          name: 'Triwulan III',
                          yAxis: 1,
                          type: 'column',
                          tooltip: {
//                                 valueSuffix: ' %'
                          },
                          data: valreal3
                        },
                        {
                          name: 'Triwulan IV',
                          yAxis: 1,
                          type: 'column',
                          tooltip: {
//                                 valueSuffix: ' %'
                          },
                          data: valreal4
                        },
                        {
                            name: 'Target',
                            type: 'spline',
                            data: valtarget,
                            yAxis: 1,
                            tooltip: {
//                          valueSuffix: '%'
                            }
                        },
                        {
                            name: 'Target SDGS',
                            type: 'spline',
                            data: tahun1,
                            yAxis: 1,
                            tooltip: {
//                          valueSuffix: '%'
                            }
                        },
                        {
                            name: 'Realisasi SDGS',
                            type: 'spline',
                            data: tahun2,
                            yAxis: 1,
                            tooltip: {
//                          valueSuffix: '%'
                            }
                        }]
                    ,
                    colors: Highcharts.map(Highcharts.getOptions().colors, function (color) {
                            return {
                                radialGradient: {cx: 0.5,cy: 0.3,r: 0.7},
                                stops: [[0, color],[1, Highcharts.Color(color).brighten(-0.3).get('rgb')] ]
                            };
                        })
              }
              eval(function(p,a,c,k,e,r){e=String;if(!''.replace(/^/,String)){while(c--)r[c]=k[c]||c;k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('0=1 2.3(4);',5,5,'chart4|new|Highcharts|Chart|options4'.split('|'),0,{}))
            }
             
            
        });
        function uuidv4() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
              var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
              return v.toString(16);
            });
        }
        eval(function(p,a,c,k,e,r){e=function(c){return c.toString(a)};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('$(\'#c\').d(\'e\',f(){9 a=$(g).h();9 b=$("#i").j();8(a==\'k\'){b.3[0].4({5:\'7\'});b.3[1].4({5:\'7\'});b.3[2].4({5:\'7\'})}8(a==\'l\'){b.3[0].4({5:\'6\'});b.3[1].4({5:\'6\'});b.3[2].4({5:\'6\'})}8(a==\'m\'){b.3[0].4({5:\'6\'});b.3[1].4({5:\'6\'});b.3[2].4({5:\'7\'})}})',23,23,'|||series|update|type|column|spline|if|var|||pilgrafik|on|change|function|this|val|dualaxes|highcharts|graf1|graf2|graf3'.split('|'),0,{}))
        
        
        $("#btnexport").on("click", function(){
        	/* var idsdg = [[${idsdg}]];
            var idtarget = [[${idtar}]];
            var idsdgindikator = [[${idsdgindikator}]];
            var idmonper = [[${idmonper}]];
            var flag = [[${flag}]];
            var valdaerah = [[${valdaerah}]];
            var valrole = [[${valrole}]]; */
            
        	alert("testing");
        });
        
    </script>
</body>
</html>