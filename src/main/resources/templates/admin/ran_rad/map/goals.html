<!DOCTYPE html>
<html lang="en"
      xmlns:="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:include="admin/layout :: header">
</head>
<title>Define RAN/RAD</title>
<body>
    <div th:include="admin/layout :: menu"></div>
    <div id="content">
        <div id="content-header">
            <div id="breadcrumb"> <a href="#" title="Go to Home" class="tip-bottom"><i class="icon-home"></i>Define RAN/RAD/SDGs Indicator</a></div>
        </div>
        <div class="container-fluid">
        	<div class="row-fluid">
        		<form class="form-horizontal">
        			<div class="control-group">
        				<select name="id_prov" id="id_prov">
	        				<option th:each="f:${prov}" th:value="${f.id_prov}" th:text="${f.nm_prov}"></option>
	        			</select>
	        			<span> RAN/RAD : </span>
	        			<select name="id_monper" id="id_monper">
	        				<option th:each="f:${monPer}" th:value="${f.id_monper}" th:text="${f.start_year}+'-'+${f.end_year} "></option>
	        			</select>
        			</div>
        		</form>
        	</div>
        	<br/>
        	<div class="row-fluid">
        		<a class="btn btn-success pull-left" th:href="@{/admin/ran_rad}" ><span class="lang_eng" style="display:none">Back</span><span class="lang_indo">Kembali</span></a>
        		<a class="btn btn-warning pull-right" href="#" onclick="tableToExcel('indi', 'Report Monitoring')">Excel</a><br/>
	        </div>
        	<div class="row-fluid">
        		<div class="widget-box">
	                <div class="widget-title">
	                    <span class="icon"><i class="icon-tasks"></i></span>
	                    <h5 id="title">Mapping SDGs</h5>
	                </div>
	                <div class="widget-content">
	                	<div class="table-responsive">
	                    	<div id="indi"></div>
	                    </div>
	                </div>
	            </div>
        	</div>
        </div>
        
        
    </div>
    <div th:include="admin/layout :: footer"></div>
</body>
<script th:inline="javascript" >
	// <![CDATA[
		//$(document).ready(function (e) {
			var token = $("meta[name='_csrf']").attr("content");
	        var header = $("meta[name='_csrf_header']").attr("content");
	        
	        //Bahasa
	        var titleDel = "Anda Yakin";
	        var messDel = "Menghapus Data?";
	        var buttDel = 'Ya, Hapus data ini!';
	        var titleOk	= "Hapus";
	        var messOk = "Data berhasil dihapus";
	        var messNOk = "Data tidak dapat dihapus";
	        var required = "Harus diisi";
	        function bhs(cek){
				if(cek){
					$(".lang_indo").show();
	        		$(".lang_eng").hide();
	        		titleDel = "Anda Yakin";
	        		messDel = "Menghapus Data?";
	        		buttDel = 'Ya, Hapus data ini!';
	        		titleOk	= "Hapus";
	    	        messOk = "Data berhasil dihapus";
	    	        messNOk = "Data tidak dapat dihapus";
	    	        required = "Harus diisi";
	        	}else{	    	        
	    	        $(".lang_indo").hide();
	        		$(".lang_eng").show();
	        		titleDel = "Are you sure";
	        		messDel = "Delete this data?";
	        		buttDel = 'Yes, Delete this data!';
	        		titleOk	= "Delete";
	    	        messOk = "Delete successful";
	    	        messNOk = "Can't delete data";
	    	        required = "Required";
	        	}
	        }
	        if(lang){
	        	bhs(lang=="0");
	        }else{
	        	bhs($('#fs').is(':checked'));
	        }
	        
	        $('#fs').on('change', function(e){
	        	bhs($(this).is(':checked'));
	        	loadData(0);
	        });
	        loadData(0);
	        function loadData(sdg_indicator){
	        	var id_monper   = $("#id_monper").val();
	            var monper_year = $("#id_monper").find(":selected").text().split('-');
	            var idprov 		= $("#id_prov").val();
	            var id_role_sess= [[${id_role}]];
	            var privilege   = [[${privilege}]];
	            var idrole 		= "all";
	            if(privilege == 'USER'){idrole=id_role_sess;}
	            var textSdg = "";
	            $('#indi').html(textSdg);
	            var baseline = 'Dasar';
	            var unit = 'Satuan';
	            var bud = 'Alokasi Anggaran 5 Tahun';
	            var fun = 'Funding Source';
	            var actor = 'Pelaksana';
	            if(!$("#fs").is(':checked')){
	            	baseline = 'Baseline';
	            	unit = 'Unit';
	            	bud = '5 Years Budget Allocation';
					fun = 'Funding Source';
	            	actor = 'Actor';
				}else{
					baseline = 'Dasar';
					unit = 'Satuan';
					bud = 'Alokasi Anggaran 5 Tahun';
	            	fun = 'Sumber Dana';
					actor = 'Pelaksana';
				}
	            $.ajax({
	                url: urls + "get-sdg-goals-report/"+sdg_indicator,
	                data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper},
	                type: 'get',
	                dataType: 'json',
	                async : false,
	                beforeSend : function(xhr){
	                	$('body').addClass("loading"); 
	                },
	               complete: function(){
	                	$('body').removeClass("loading");
	                },
	                success: function (hasilGoal) {
	                	for (var i = 0; i < hasilGoal.sdg.length; i++) {
	            			var nm_goals;
	            			var id_goals=hasilGoal.sdg[i][0];
	            			var kode_goals=hasilGoal.sdg[i][3];
	            			if($("#fs").is(':checked')){
	                    		nm_goals = hasilGoal.sdg[i][1];
	    					}else{
	    						nm_goals = hasilGoal.sdg[i][2];
	    					}
	            			if(i>0){textSdg +='<br/><br/><br/><br/><br/><br/>';}
	            			textSdg += "<p style='font-size:90%;'><div style='width:100%;padding:4px;text-align:left;background-color:#3EC1E9;display:block;'><b><h3>Goal "+kode_goals+". "+nm_goals+"</h3></b></div><p/>";
	                		
	            			//GOALS GOVERNMENT PROGRAM
	            			$.ajax({
	            	            url: urls + "get-mapping-goals-govProg",
	            	            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals},
	            	            type: 'get',
	            	            dataType: 'json',
	            	            async : false,
	            	            success: function (hasilGoal1) {
	            	            	if(hasilGoal1.progGov.length>0){
	            	            		textSdg += "<div style='font-size:90%;'><b><u>Government Program</u></b></div>";
	            	            		for (var a = 0; a < hasilGoal1.progGov.length; a++) {
	            	            			var row = hasilGoal1.progGov;
	            	            			var id_program = row[a][0];
	            	            			var kode_program = row[a][4];
	                            			var nm_program;
	                            			var nm_activity;
	                            			if($('#fs').is(':checked')){
	                            				nm_program = row[a][2];
	    	                            	}else{
	    	                            		nm_program = row[a][3];
	    	                            	}
	                            			textSdg += "<div style='font-size:90%;'><span style='margin-right:20px'>Program</span>: "+kode_program+". "+nm_program+"</div>";
	                            			
	                            			$.ajax({
	                            	            url: urls + "get-mapping-goals-govActivity",
	                            	            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_program':id_program},
	                            	            type: 'get',
	                            	            dataType: 'json',
	                            	            async : false,
	                            	            success: function (hasilGoal2) {
	                            	            	if(hasilGoal2.progGov.length>0){
	                            	            		for (var b = 0; b < hasilGoal2.progGov.length; b++) {
	                            	            			var row = hasilGoal2.progGov;
	                            	            			var id_activity = row[b][0];
	                            	            			var kode_activity = row[b][4];
	                                            			var nm_activity;
	                                            			if($('#fs').is(':checked')){
	                                            				nm_activity = row[b][2];
	                    	                            	}else{
	                    	                            		nm_activity = row[b][3];
	                    	                            	}
	                                            			textSdg += "<div style='font-size:90%;'><span style='margin-right:25px'>Activity </span>: "+kode_program+"."+kode_activity+". "+nm_activity+"</div>";
	                            	            			
	                                            			textSdg += "<div style='overflow-x:auto;'><table border='1' class='table table-striped table-bordered tabel-gov-ind-goal'><thead>";
                                                    		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
                                                    		textSdg += "<td style='text-align:center;vertical-align:middle'>"+bud+"</td>";
                                                    		textSdg += "<td style='text-align:center;vertical-align:middle'>"+actor+"</td></tr>";
                                                    		textSdg += "</thead><tbody>";
                                                    		textSdg += "<tr style='font-size:80%;'>";
                                                			textSdg += "<td>"+(row[b][5]?row[b][5]:'')+"</td>";
                                                			textSdg += "<td>"+(row[b][6]?row[b][6]:'')+"</td>";
                                                			textSdg += "</tr>";
                                                			textSdg += "</tbody></table></div>";
                                                			
	                                            			$.ajax({
	                                            	            url: urls + "get-mapping-goals-govIndicator",
	                                            	            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_program':id_program,'id_activity':id_activity},
	                                            	            type: 'get',
	                                            	            dataType: 'json',
	                                            	            async : false,
	                                            	            success: function (hasilGoal3) {
	                                            	            	if(hasilGoal3.progGov.length>0){
	                                            	            		for (var c = 0; c < hasilGoal3.progGov.length; c++) {
	                                            	            			var row = hasilGoal3.progGov;
	                                            	            			var id_gov_indicator = row[c][0];
	                                            	            			var kode_indicator = row[c][4];
	                                                            			var nm_indicator;
	                                                            			if($('#fs').is(':checked')){
	                                                            				nm_indicator = row[c][2];
	                                    	                            	}else{
	                                    	                            		nm_indicator = row[c][3];
	                                    	                            	}
	                                                            			textSdg += "<div style='font-size:90%;'><span style='margin-right:20px'>Indicator</span>: "+kode_program+"."+kode_activity+"."+kode_indicator+". "+nm_indicator+"</div>";
	                                            	            			
	                                                            			$.ajax({
	                                                            	            url: urls + "get-mapping-goals-relisasi",
	                                                            	            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'start_year':monper_year[0],'end_year':monper_year[1],'id_gov_indicator':id_gov_indicator},
	                                                            	            type: 'get',
	                                                            	            dataType: 'json',
	                                                            	            async : false,
	                                                            	            success: function (hasil) {
	                                                            	            	//GOV
	                                                            	            	var row = hasil.ranradGov;
	                                                            	            	if(row.length>0){
	                                                            	            		textSdg += "<div style='overflow-x:auto;'><table border='1' class='table table-striped table-bordered tabel-gov-ind-goal'><thead>";
	                                                                            		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+unit+"</td>";
	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+baseline+"</td>";
	                                                                            		var spantarget = monper_year[1]-monper_year[0]+1;
	                                                                            		textSdg += "<td colspan='"+spantarget+"' style='text-align:center;vertical-align:middle'>Target</td>";
	                                                                            		//textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+bud+"</td>";
	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+fun+"</td>";
	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+actor+"</td></tr>";
	                                                                            		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	                                                                            		for(var y=monper_year[0];y<=monper_year[1];y++){
	                                                                            			textSdg += "<td style='text-align:center;vertical-align:middle'><b>"+y+"</b></td>";
	                                                                                		
	                                                                                	}
	                                                                            		textSdg += "</tr>";
	                                                                            		textSdg += "</thead><tbody>";
	                                                                            		//Indicaator GOV
	                                                                                		//isinya
	                                                                                		for (var i = 0; i < row.length; i++) {
	                                                                                			textSdg += "<tr style='font-size:80%;'>";
	                                                                                			textSdg += "<td>"+(row[i][9]?row[i][9]:'')+"</td>";
	                                                                                			textSdg += "<td>"+(row[i][11]?row[i][11]:'')+"</td>";
	                                                                                			
	                                                                                			var dinamis=13;
	                                                                                			for(var y=monper_year[0];y<=monper_year[1];y++){
	                                                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+(row[i][dinamis]!=null?row[i][dinamis]:'')+"</td>";
	                                                                                        		dinamis = dinamis+1;
	                                                                                			}
	                                                                                			//textSdg += "<td>"+(row[i][12]?row[i][12]:'')+"</td>";
	                                                                                			textSdg += "<td>"+(row[i][10]?row[i][10]:'')+"</td>";
	                                                                                			textSdg += "<td>"+row[i][dinamis]+"</td>";
	                                                                                			textSdg += "</tr>";
	                                                                                		}
	                                                                                		textSdg += "</tbody></table></div>";
	                                                            	            	}
	                                                            	            }
	                                                            			});
	                                            	            		}
	                                            	            	}
	                                            	            }
	                                            			});
	                            	            		}
	                            	            	}
	                            	            }
	                            			});
	            	            		}
	            	            	}
	            	            }
	            			});
	            			
	            			//GOALS NON GOVERNMENT PROGRAM
	            			$.ajax({
	            	            url: urls + "get-mapping-goals-nsaProg",
	            	            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals},
	            	            type: 'get',
	            	            dataType: 'json',
	            	            async : false,
	            	            success: function (hasilGoal1) {
	            	            	if(hasilGoal1.progGov.length>0){
	            	            		textSdg += "<div style='font-size:90%;'><b><u>Non Government Program</u></b></div>";
	            	            		for (var a = 0; a < hasilGoal1.progGov.length; a++) {
	            	            			var row = hasilGoal1.progGov;
	            	            			var id_program = row[a][0];
	            	            			var kode_program = row[a][4];
	                            			var nm_program;
	                            			var nm_activity;
	                            			if($('#fs').is(':checked')){
	                            				nm_program = row[a][2];
	    	                            	}else{
	    	                            		nm_program = row[a][3];
	    	                            	}
	                            			textSdg += "<div style='font-size:90%;'><span style='margin-right:20px'>Program</span>: "+kode_program+". "+nm_program+"</div>";
	                            			
	                            			$.ajax({
	                            	            url: urls + "get-mapping-goals-nsaActivity",
	                            	            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_program':id_program},
	                            	            type: 'get',
	                            	            dataType: 'json',
	                            	            async : false,
	                            	            success: function (hasilGoal2) {
	                            	            	if(hasilGoal2.progGov.length>0){
	                            	            		for (var b = 0; b < hasilGoal2.progGov.length; b++) {
	                            	            			var row = hasilGoal2.progGov;
	                            	            			var id_activity = row[b][0];
	                            	            			var kode_activity = row[b][4];
	                                            			var nm_activity;
	                                            			if($('#fs').is(':checked')){
	                                            				nm_activity = row[b][2];
	                    	                            	}else{
	                    	                            		nm_activity = row[b][3];
	                    	                            	}
	                                            			textSdg += "<div style='font-size:90%;'><span style='margin-right:25px'>Activity </span>: "+kode_program+"."+kode_activity+". "+nm_activity+"</div>";
	                                            			
	                                            			textSdg += "<div style='overflow-x:auto;'><table border='1' class='table table-striped table-bordered tabel-gov-ind-goal'><thead>";
                                                    		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
                                                    		textSdg += "<td style='text-align:center;vertical-align:middle'>"+bud+"</td>";
                                                    		textSdg += "<td style='text-align:center;vertical-align:middle'>"+actor+"</td></tr>";
                                                    		textSdg += "</thead><tbody>";
                                                    		textSdg += "<tr style='font-size:80%;'>";
                                                			textSdg += "<td>"+(row[b][5]?row[b][5]:'')+"</td>";
                                                			textSdg += "<td>"+(row[b][6]?row[b][6]:'')+"</td>";
                                                			textSdg += "</tr>";
                                                			textSdg += "</tbody></table></div>";
	                                            			
	                                            			$.ajax({
	                                            	            url: urls + "get-mapping-goals-nsaIndicator",
	                                            	            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_program':id_program,'id_activity':id_activity},
	                                            	            type: 'get',
	                                            	            dataType: 'json',
	                                            	            async : false,
	                                            	            success: function (hasilGoal3) {
	                                            	            	if(hasilGoal3.progGov.length>0){
	                                            	            		for (var c = 0; c < hasilGoal3.progGov.length; c++) {
	                                            	            			var row = hasilGoal3.progGov;
	                                            	            			var id_nsa_indicator = row[c][0];
	                                            	            			var kode_indicator = row[c][4];
	                                                            			var nm_indicator;
	                                                            			if($('#fs').is(':checked')){
	                                                            				nm_indicator = row[c][2];
	                                    	                            	}else{
	                                    	                            		nm_indicator = row[c][3];
	                                    	                            	}
	                                                            			textSdg += "<div style='font-size:90%;'><span style='margin-right:20px'>Indicator</span>: "+kode_program+"."+kode_activity+"."+kode_indicator+". "+nm_indicator+"</div>";
	                                                            			
	                                                            			$.ajax({
	                                                            	            url: urls + "get-mapping-goals-nsarelisasi",
	                                                            	            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'start_year':monper_year[0],'end_year':monper_year[1],'id_nsa_indicator':id_nsa_indicator},
	                                                            	            type: 'get',
	                                                            	            dataType: 'json',
	                                                            	            async : false,
	                                                            	            success: function (hasil) {
	                                                            	            	//Non GOV
	                                                            	            	var row = hasil.ranradGov;
	                                                            	            	if(row.length>0){
	                                                            	            		textSdg += "<div style='overflow-x:auto;'><table border='1' class='table table-striped table-bordered tabel-gov-ind-goal'><thead>";
	                                                                            		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+unit+"</td>";
	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+baseline+"</td>";
	                                                                            		var spantarget = monper_year[1]-monper_year[0]+1;
	                                                                            		textSdg += "<td colspan='"+spantarget+"' style='text-align:center;vertical-align:middle'>Target</td>";
	                                                                            		//textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+bud+"</td>";
	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+fun+"</td>";
	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+actor+"</td></tr>";
	                                                                            		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	                                                                            		for(var y=monper_year[0];y<=monper_year[1];y++){
	                                                                            			textSdg += "<td style='text-align:center;vertical-align:middle'><b>"+y+"</b></td>";
	                                                                                		
	                                                                                	}
	                                                                            		textSdg += "</tr>";
	                                                                            		textSdg += "</thead><tbody>";
	                                                                            		//Indicaator Non GOV
	                                                                                		//isinya
	                                                                                		for (var i = 0; i < row.length; i++) {
	                                                                                			textSdg += "<tr style='font-size:80%;'>";
	                                                                                			textSdg += "<td>"+(row[i][9]?row[i][9]:'')+"</td>";
	                                                                                			textSdg += "<td>"+(row[i][11]?row[i][11]:'')+"</td>";
	                                                                                			
	                                                                                			var dinamis=13;
	                                                                                			for(var y=monper_year[0];y<=monper_year[1];y++){
	                                                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+(row[i][dinamis]!=null?row[i][dinamis]:'')+"</td>";
	                                                                                        		dinamis = dinamis+1;
	                                                                                			}
	                                                                                			//textSdg += "<td>"+(row[i][12]?row[i][12]:'')+"</td>";
	                                                                                			textSdg += "<td>"+(row[i][10]?row[i][10]:'')+"</td>";
	                                                                                			textSdg += "<td>"+row[i][dinamis]+"</td>";
	                                                                                			textSdg += "</tr>";
	                                                                                		}
	                                                                                		textSdg += "</tbody></table></div>";
	                                                            	            	}
	                                                            	            }
	                                                            			});
	                                            	            		}
	                                            	            	}
	                                            	            }
	                                            			});
	                            	            		}
	                            	            	}
	                            	            }
	                            			});
	            	            		}
	            	            	}
	            	            }
	            			});
	            			
	            			//Target
	            			$.ajax({
	    		            url: urls + "get-sdg-target-report/"+sdg_indicator,
	    		            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals},
	    		            type: 'get',
	    		            dataType: 'json',
	    		            async : false,
	    		            success: function (hasilTarget) {
	    		            	for (var j = 0; j < hasilTarget.sdg.length; j++) {
	    		            		var nm_target;
	    		        			var id_target=hasilTarget.sdg[j][0];
	    		        			var kode_target=hasilTarget.sdg[j][3];
	    		        			if($("#fs").is(':checked')){
	    		        				nm_target = hasilTarget.sdg[j][1];
	    							}else{
	    								nm_target = hasilTarget.sdg[j][2];
	    							}
	    		            		textSdg += "<br/><br/><p style='font-size:90%;'><b><h4>SDG Targets "+kode_goals	+"."+kode_target+". "+nm_target+"</h4></b><p/>";
	    		            		
	    		            		//TARGET GOVERNMENT PROGRAM
	    		        			$.ajax({
	    		        	            url: urls + "get-mapping-target-govProg",
	    		        	            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_target':id_target},
	    		        	            type: 'get',
	    		        	            dataType: 'json',
	    		        	            async : false,
	    		        	            success: function (hasilGoal1) {
	    		        	            	if(hasilGoal1.progGov.length>0){
	    		        	            		textSdg += "<div style='font-size:90%;'><b><u>Government Program</u></b></div>";
	    		        	            		for (var a = 0; a < hasilGoal1.progGov.length; a++) {
	    		        	            			var row = hasilGoal1.progGov;
	    		        	            			var id_program = row[a][0];
	    		        	            			var kode_program = row[a][4];
	    		                        			var nm_program;
	    		                        			var nm_activity;
	    		                        			if($('#fs').is(':checked')){
	    		                        				nm_program = row[a][2];
	    			                            	}else{
	    			                            		nm_program = row[a][3];
	    			                            	}
	    		                        			textSdg += "<div style='font-size:90%;'><span style='margin-right:20px'>Program</span>: "+kode_program+". "+nm_program+"</div>";
	    		                        			
	    		                        			$.ajax({
	    		                        	            url: urls + "get-mapping-target-govActivity",
	    		                        	            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_program':id_program,'id_target':id_target},
	    		                        	            type: 'get',
	    		                        	            dataType: 'json',
	    		                        	            async : false,
	    		                        	            success: function (hasilGoal2) {
	    		                        	            	if(hasilGoal2.progGov.length>0){
	    		                        	            		for (var b = 0; b < hasilGoal2.progGov.length; b++) {
	    		                        	            			var row = hasilGoal2.progGov;
	    		                        	            			var id_activity = row[b][0];
	    		                        	            			var kode_activity = row[b][4];
	    		                                        			var nm_activity;
	    		                                        			if($('#fs').is(':checked')){
	    		                                        				nm_activity = row[b][2];
	    		                	                            	}else{
	    		                	                            		nm_activity = row[b][3];
	    		                	                            	}
	    		                                        			textSdg += "<div style='font-size:90%;'><span style='margin-right:25px'>Activity </span>: "+kode_program+"."+kode_activity+". "+nm_activity+"</div>";
	    		                                        			
	    		                                        			textSdg += "<div style='overflow-x:auto;'><table border='1' class='table table-striped table-bordered tabel-gov-ind-goal'><thead>";
	                                                        		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+bud+"</td>";
	                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+actor+"</td></tr>";
	                                                        		textSdg += "</thead><tbody>";
	                                                        		textSdg += "<tr style='font-size:80%;'>";
	                                                    			textSdg += "<td>"+(row[b][5]?row[b][5]:'')+"</td>";
	                                                    			textSdg += "<td>"+(row[b][6]?row[b][6]:'')+"</td>";
	                                                    			textSdg += "</tr>";
	                                                    			textSdg += "</tbody></table></div>";
	    		                                        			
	    		                                        			$.ajax({
	    		                                        	            url: urls + "get-mapping-target-govIndicator",
	    		                                        	            data: {'id_role':idrole,'id_target':id_target,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_program':id_program,'id_activity':id_activity},
	    		                                        	            type: 'get',
	    		                                        	            dataType: 'json',
	    		                                        	            async : false,
	    		                                        	            success: function (hasilGoal3) {
	    		                                        	            	if(hasilGoal3.progGov.length>0){
	    		                                        	            		for (var c = 0; c < hasilGoal3.progGov.length; c++) {
	    		                                        	            			var row = hasilGoal3.progGov;
	    		                                        	            			var id_gov_indicator = row[c][0];
	    		                                        	            			var kode_indicator = row[c][4];
	    		                                                        			var nm_indicator;
	    		                                                        			if($('#fs').is(':checked')){
	    		                                                        				nm_indicator = row[c][2];
	    		                                	                            	}else{
	    		                                	                            		nm_indicator = row[c][3];
	    		                                	                            	}
	    		                                                        			textSdg += "<div style='font-size:90%;'><span style='margin-right:20px'>Indicator</span>: "+kode_program+"."+kode_activity+"."+kode_indicator+". "+nm_indicator+"</div>";
	    		                                                        			
	    		                                                        			$.ajax({
	    	                                                            	            url: urls + "get-mapping-target-relisasi",
	    	                                                            	            data: {'id_role':idrole,'id_target':id_target,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'start_year':monper_year[0],'end_year':monper_year[1],'id_gov_indicator':id_gov_indicator},
	    	                                                            	            type: 'get',
	    	                                                            	            dataType: 'json',
	    	                                                            	            async : false,
	    	                                                            	            success: function (hasil) {
	    	                                                            	            	//GOV
	    	                                                            	            	var row = hasil.ranradGov;
	    	                                                            	            	if(row.length>0){
	    	                                                            	            		textSdg += "<div style='overflow-x:auto;'><table border='1' class='table table-striped table-bordered tabel-gov-ind-goal'><thead>";
	    	                                                                            		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+unit+"</td>";
	    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+baseline+"</td>";
	    	                                                                            		var spantarget = monper_year[1]-monper_year[0]+1;
	    	                                                                            		textSdg += "<td colspan='"+spantarget+"' style='text-align:center;vertical-align:middle'>Target</td>";
	    	                                                                            		//textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+bud+"</td>";
	    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+fun+"</td>";
	    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+actor+"</td></tr>";
	    	                                                                            		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	    	                                                                            		for(var y=monper_year[0];y<=monper_year[1];y++){
	    	                                                                            			textSdg += "<td style='text-align:center;vertical-align:middle'><b>"+y+"</b></td>";
	    	                                                                                		
	    	                                                                                	}
	    	                                                                            		textSdg += "</tr>";
	    	                                                                            		textSdg += "</thead><tbody>";
	    	                                                                            		//Indicaator GOV
	    	                                                                                		//isinya
	    	                                                                                		for (var i = 0; i < row.length; i++) {
	    	                                                                                			textSdg += "<tr style='font-size:80%;'>";
	    	                                                                                			textSdg += "<td>"+(row[i][9]?row[i][9]:'')+"</td>";
	    	                                                                                			textSdg += "<td>"+(row[i][11]?row[i][11]:'')+"</td>";
	    	                                                                                			
	    	                                                                                			var dinamis=13;
	    	                                                                                			for(var y=monper_year[0];y<=monper_year[1];y++){
	    	                                                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+(row[i][dinamis]!=null?row[i][dinamis]:'')+"</td>";
	    	                                                                                        		dinamis = dinamis+1;
	    	                                                                                			}
	    	                                                                                			//textSdg += "<td>"+(row[i][12]?row[i][12]:'')+"</td>";
	    	                                                                                			textSdg += "<td>"+(row[i][10]?row[i][10]:'')+"</td>";
	    	                                                                                			textSdg += "<td>"+row[i][dinamis]+"</td>";
	    	                                                                                			textSdg += "</tr>";
	    	                                                                                		}
	    	                                                                                		textSdg += "</tbody></table></div>";
	    	                                                            	            	}
	    	                                                            	            }
	    	                                                            			});
	    		                                        	            		}
	    		                                        	            	}
	    		                                        	            }
	    		                                        			});
	    		                        	            		}
	    		                        	            	}
	    		                        	            }
	    		                        			});
	    		        	            		}
	    		        	            	}
	    		        	            }
	    		        			});
	    		            		
	    		        			//Target NON GOVERNMENT PROGRAM
	    		        			$.ajax({
	    		        	            url: urls + "get-mapping-target-nsaProg",
	    		        	            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_target':id_target},
	    		        	            type: 'get',
	    		        	            dataType: 'json',
	    		        	            async : false,
	    		        	            success: function (hasilGoal1) {
	    		        	            	if(hasilGoal1.progGov.length>0){
	    		        	            		textSdg += "<div style='font-size:90%;'><b><u>Non Government Program</u></b></div>";
	    		        	            		for (var a = 0; a < hasilGoal1.progGov.length; a++) {
	    		        	            			var row = hasilGoal1.progGov;
	    		        	            			var id_program = row[a][0];
	    		        	            			var kode_program = row[a][4];
	    		                        			var nm_program;
	    		                        			var nm_activity;
	    		                        			if($('#fs').is(':checked')){
	    		                        				nm_program = row[a][2];
	    			                            	}else{
	    			                            		nm_program = row[a][3];
	    			                            	}
	    		                        			textSdg += "<div style='font-size:90%;'><span style='margin-right:20px'>Program</span>: "+kode_program+". "+nm_program+"</div>";
	    		                        			
	    		                        			$.ajax({
	    		                        	            url: urls + "get-mapping-target-nsaActivity",
	    		                        	            data: {'id_role':idrole,'id_target':id_target,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_program':id_program},
	    		                        	            type: 'get',
	    		                        	            dataType: 'json',
	    		                        	            async : false,
	    		                        	            success: function (hasilGoal2) {
	    		                        	            	if(hasilGoal2.progGov.length>0){
	    		                        	            		for (var b = 0; b < hasilGoal2.progGov.length; b++) {
	    		                        	            			var row = hasilGoal2.progGov;
	    		                        	            			var id_activity = row[b][0];
	    		                        	            			var kode_activity = row[b][4];
	    		                                        			var nm_activity;
	    		                                        			if($('#fs').is(':checked')){
	    		                                        				nm_activity = row[b][2];
	    		                	                            	}else{
	    		                	                            		nm_activity = row[b][3];
	    		                	                            	}
	    		                                        			textSdg += "<div style='font-size:90%;'><span style='margin-right:25px'>Activity </span>: "+kode_program+"."+kode_activity+". "+nm_activity+"</div>";
	    		                                        			
	    		                                        			textSdg += "<div style='overflow-x:auto;'><table border='1' class='table table-striped table-bordered tabel-gov-ind-goal'><thead>";
	                                                        		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+bud+"</td>";
	                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+actor+"</td></tr>";
	                                                        		textSdg += "</thead><tbody>";
	                                                        		textSdg += "<tr style='font-size:80%;'>";
	                                                    			textSdg += "<td>"+(row[b][5]?row[b][5]:'')+"</td>";
	                                                    			textSdg += "<td>"+(row[b][6]?row[b][6]:'')+"</td>";
	                                                    			textSdg += "</tr>";
	                                                    			textSdg += "</tbody></table></div>";
	    		                                        			
	    		                                        			$.ajax({
	    		                                        	            url: urls + "get-mapping-target-nsaIndicator",
	    		                                        	            data: {'id_role':idrole,'id_target':id_target,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_program':id_program,'id_activity':id_activity},
	    		                                        	            type: 'get',
	    		                                        	            dataType: 'json',
	    		                                        	            async : false,
	    		                                        	            success: function (hasilGoal3) {
	    		                                        	            	if(hasilGoal3.progGov.length>0){
	    		                                        	            		for (var c = 0; c < hasilGoal3.progGov.length; c++) {
	    		                                        	            			var row = hasilGoal3.progGov;
	    		                                        	            			var id_nsa_indicator = row[c][0];
	    		                                        	            			var kode_indicator = row[c][4];
	    		                                                        			var nm_indicator;
	    		                                                        			if($('#fs').is(':checked')){
	    		                                                        				nm_indicator = row[c][2];
	    		                                	                            	}else{
	    		                                	                            		nm_indicator = row[c][3];
	    		                                	                            	}
	    		                                                        			textSdg += "<div style='font-size:90%;'><span style='margin-right:20px'>Indicator</span>: "+kode_program+"."+kode_activity+"."+kode_indicator+". "+nm_indicator+"</div>";
	    		                                                        			
	    		                                                        			$.ajax({
	    	                                                            	            url: urls + "get-mapping-target-nsarelisasi",
	    	                                                            	            data: {'id_role':idrole,'id_target':id_target,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'start_year':monper_year[0],'end_year':monper_year[1],'id_nsa_indicator':id_nsa_indicator},
	    	                                                            	            type: 'get',
	    	                                                            	            dataType: 'json',
	    	                                                            	            async : false,
	    	                                                            	            success: function (hasil) {
	    	                                                            	            	//Non GOV
	    	                                                            	            	var row = hasil.ranradGov;
	    	                                                            	            	if(row.length>0){
	    	                                                            	            		textSdg += "<div style='overflow-x:auto;'><table border='1' class='table table-striped table-bordered tabel-gov-ind-goal'><thead>";
	    	                                                                            		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+unit+"</td>";
	    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+baseline+"</td>";
	    	                                                                            		var spantarget = monper_year[1]-monper_year[0]+1;
	    	                                                                            		textSdg += "<td colspan='"+spantarget+"' style='text-align:center;vertical-align:middle'>Target</td>";
	    	                                                                            		//textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+bud+"</td>";
	    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+fun+"</td>";
	    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+actor+"</td></tr>";
	    	                                                                            		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	    	                                                                            		for(var y=monper_year[0];y<=monper_year[1];y++){
	    	                                                                            			textSdg += "<td style='text-align:center;vertical-align:middle'><b>"+y+"</b></td>";
	    	                                                                                		
	    	                                                                                	}
	    	                                                                            		textSdg += "</tr>";
	    	                                                                            		textSdg += "</thead><tbody>";
	    	                                                                            		//Indicaator Non GOV
	    	                                                                                		//isinya
	    	                                                                                		for (var i = 0; i < row.length; i++) {
	    	                                                                                			textSdg += "<tr style='font-size:80%;'>";
	    	                                                                                			textSdg += "<td>"+(row[i][9]?row[i][9]:'')+"</td>";
	    	                                                                                			textSdg += "<td>"+(row[i][11]?row[i][11]:'')+"</td>";
	    	                                                                                			
	    	                                                                                			var dinamis=13;
	    	                                                                                			for(var y=monper_year[0];y<=monper_year[1];y++){
	    	                                                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+(row[i][dinamis]!=null?row[i][dinamis]:'')+"</td>";
	    	                                                                                        		dinamis = dinamis+1;
	    	                                                                                			}
	    	                                                                                			//textSdg += "<td>"+(row[i][12]?row[i][12]:'')+"</td>";
	    	                                                                                			textSdg += "<td>"+(row[i][10]?row[i][10]:'')+"</td>";
	    	                                                                                			textSdg += "<td>"+row[i][dinamis]+"</td>";
	    	                                                                                			textSdg += "</tr>";
	    	                                                                                		}
	    	                                                                                		textSdg += "</tbody></table></div>";
	    	                                                            	            	}
	    	                                                            	            }
	    	                                                            			});
	    		                                        	            		}
	    		                                        	            	}
	    		                                        	            }
	    		                                        			});
	    		                        	            		}
	    		                        	            	}
	    		                        	            }
	    		                        			});
	    		        	            		}
	    		        	            	}
	    		        	            }
	    		        			});
	    		        			
	    		        			$.ajax({
	    		    		            url: urls + "get-sdg-indicator-report/"+sdg_indicator,
	    		    		            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_target':id_target},
	    		    		            type: 'get',
	    		    		            dataType: 'json',
	    		    		            async : false,
	    		    		            success: function (hasilIndicator) {
	    		    		            	for (var k = 0; k < hasilIndicator.sdg.length; k++) {
	    		    		            		var nm_indicator;
	    		    		        			var id_indicator=hasilIndicator.sdg[k][0];
	    		    		        			var kode_indicator=hasilIndicator.sdg[k][3];
	    		    		        			if($("#fs").is(':checked')){
	    		    		        				nm_indicator = hasilIndicator.sdg[k][1];
	    		    							}else{
	    		    								nm_indicator = hasilIndicator.sdg[k][2];
	    		    							}
	    		    		            		textSdg += "<br/><br/><p style='font-size:90%;'><b><h5>SDG Indicators "+kode_goals+"."+kode_target+"."+kode_indicator+". "+nm_indicator+"</h5></b><p/>";
	    		    		            		
	    		    		            		$.ajax({
	    		    		    		            url: urls + "get-disaggre-report",
	    		    		    		            data: {'id_indicator':id_indicator,'id_monper':id_monper},
	    		    		    		            type: 'get',
	    		    		    		            dataType: 'json',
	    		    		    		            async : false,
	    		    		    		            success: function (hasilDis) {
	    		    		    		            	for (var l = 0; l < hasilDis.dis.length; l++) {
	    		    		    		            		var nm_disagre;
	    		    		    		        			var id_dis=hasilDis.dis[l][0];
	    		    		    		        			var id_dis_detail=hasilDis.dis[l][1];
	    		    		    		        			var kode_dis=hasilDis.dis[l][2];
	    		    		    		        			if($("#fs").is(':checked')){
	    		    		    		        				nm_disagre = hasilDis.dis[l][3]+" "+hasilDis.dis[l][5];
	    		    		    							}else{
	    		    		    								nm_disagre = hasilDis.dis[l][4]+" "+hasilDis.dis[l][6];
	    		    		    							}
	    		    		    		            		textSdg += "<p style='font-size:90%;' class='disaggre_hide'><b>Disaggregation "+kode_goals+"."+kode_target+"."+kode_indicator+"."+kode_dis+". "+nm_disagre+"</b><p/>";
	    		    		    		            	}
	    		    		    		            }
	    		    		            		});
	    		    		            		
	    		    		            		//INDICATOR GOVERNMENT PROGRAM
	    		    		        			$.ajax({
	    		    		        	            url: urls + "get-mapping-indicator-govProg",
	    		    		        	            data: {'id_role':idrole,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_target':id_target,'id_indicator':id_indicator},
	    		    		        	            type: 'get',
	    		    		        	            dataType: 'json',
	    		    		        	            async : false,
	    		    		        	            success: function (hasilGoal1) {
	    		    		        	            	if(hasilGoal1.progGov.length>0){
	    		    		        	            		textSdg += "<div style='font-size:90%;'><b><u>Government Program</u></b></div>";
	    		    		        	            		for (var a = 0; a < hasilGoal1.progGov.length; a++) {
	    		    		        	            			var row = hasilGoal1.progGov;
	    		    		        	            			var id_program = row[a][0];
	    		    		        	            			var kode_program = row[a][4];
	    		    		                        			var nm_program;
	    		    		                        			var nm_activity;
	    		    		                        			if($('#fs').is(':checked')){
	    		    		                        				nm_program = row[a][2];
	    		    			                            	}else{
	    		    			                            		nm_program = row[a][3];
	    		    			                            	}
	    		    		                        			textSdg += "<div style='font-size:90%;'><span style='margin-right:20px'>Program</span>: "+kode_program+". "+nm_program+"</div>";
	    		    		        	            			
	    		    		                        			$.ajax({
	    		    		                        	            url: urls + "get-mapping-indicator-govActivity",
	    		    		                        	            data: {'id_role':idrole,'id_indicator':id_indicator,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_program':id_program,'id_target':id_target},
	    		    		                        	            type: 'get',
	    		    		                        	            dataType: 'json',
	    		    		                        	            async : false,
	    		    		                        	            success: function (hasilGoal2) {
	    		    		                        	            	if(hasilGoal2.progGov.length>0){
	    		    		                        	            		for (var b = 0; b < hasilGoal2.progGov.length; b++) {
	    		    		                        	            			var row = hasilGoal2.progGov;
	    		    		                        	            			var id_activity = row[b][0];
	    		    		                        	            			var kode_activity = row[b][4];
	    		    		                                        			var nm_activity;
	    		    		                                        			if($('#fs').is(':checked')){
	    		    		                                        				nm_activity = row[b][2];
	    		    		                	                            	}else{
	    		    		                	                            		nm_activity = row[b][3];
	    		    		                	                            	}
	    		    		                                        			textSdg += "<div style='font-size:90%;'><span style='margin-right:25px'>Activity </span>: "+kode_program+"."+kode_activity+". "+nm_activity+"</div>";
	    		    		                        	            			
	    		    		                                        			textSdg += "<div style='overflow-x:auto;'><table border='1' class='table table-striped table-bordered tabel-gov-ind-goal'><thead>";
	    		                                                        		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	    		                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+bud+"</td>";
	    		                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+actor+"</td></tr>";
	    		                                                        		textSdg += "</thead><tbody>";
	    		                                                        		textSdg += "<tr style='font-size:80%;'>";
	    		                                                    			textSdg += "<td>"+(row[b][5]?row[b][5]:'')+"</td>";
	    		                                                    			textSdg += "<td>"+(row[b][6]?row[b][6]:'')+"</td>";
	    		                                                    			textSdg += "</tr>";
	    		                                                    			textSdg += "</tbody></table></div>";
	    		    		                                        			
	    		    		                                        			$.ajax({
	    		    		                                        	            url: urls + "get-mapping-indicator-govIndicator",
	    		    		                                        	            data: {'id_role':idrole,'id_indicator':id_indicator,'id_target':id_target,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_program':id_program,'id_activity':id_activity},
	    		    		                                        	            type: 'get',
	    		    		                                        	            dataType: 'json',
	    		    		                                        	            async : false,
	    		    		                                        	            success: function (hasilGoal3) {
	    		    		                                        	            	if(hasilGoal3.progGov.length>0){
	    		    		                                        	            		for (var c = 0; c < hasilGoal3.progGov.length; c++) {
	    		    		                                        	            			var row = hasilGoal3.progGov;
	    		    		                                        	            			var id_gov_indicator = row[c][0];
	    		    		                                        	            			var kode_indicator = row[c][4];
	    		    		                                                        			var nm_indicator;
	    		    		                                                        			if($('#fs').is(':checked')){
	    		    		                                                        				nm_indicator = row[c][2];
	    		    		                                	                            	}else{
	    		    		                                	                            		nm_indicator = row[c][3];
	    		    		                                	                            	}
	    		    		                                                        			textSdg += "<div style='font-size:90%;'><span style='margin-right:20px'>Indicator</span>: "+kode_program+"."+kode_activity+"."+kode_indicator+". "+nm_indicator+"</div>";
	    		    		                                        	            			
	    		    		                                                        			$.ajax({
	    		    	                                                            	            url: urls + "get-mapping-indicator-relisasi",
	    		    	                                                            	            data: {'id_role':idrole,'id_indicator':id_indicator,'id_target':id_target,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'start_year':monper_year[0],'end_year':monper_year[1],'id_gov_indicator':id_gov_indicator},
	    		    	                                                            	            type: 'get',
	    		    	                                                            	            dataType: 'json',
	    		    	                                                            	            async : false,
	    		    	                                                            	            success: function (hasil) {
	    		    	                                                            	            	//GOV
	    		    	                                                            	            	var row = hasil.ranradGov;
	    		    	                                                            	            	if(row.length>0){
	    		    	                                                            	            		textSdg += "<div style='overflow-x:auto;'><table border='1' class='table table-striped table-bordered tabel-gov-ind-goal'><thead>";
	    		    	                                                                            		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	    		    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+unit+"</td>";
	    		    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+baseline+"</td>";
	    		    	                                                                            		var spantarget = monper_year[1]-monper_year[0]+1;
	    		    	                                                                            		textSdg += "<td colspan='"+spantarget+"' style='text-align:center;vertical-align:middle'>Target</td>";
	    		    	                                                                            		//textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+bud+"</td>";
	    		    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+fun+"</td>";
	    		    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+actor+"</td></tr>";
	    		    	                                                                            		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	    		    	                                                                            		for(var y=monper_year[0];y<=monper_year[1];y++){
	    		    	                                                                            			textSdg += "<td style='text-align:center;vertical-align:middle'><b>"+y+"</b></td>";
	    		    	                                                                                		
	    		    	                                                                                	}
	    		    	                                                                            		textSdg += "</tr>";
	    		    	                                                                            		textSdg += "</thead><tbody>";
	    		    	                                                                            		//Indicaator GOV
	    		    	                                                                                		//isinya
	    		    	                                                                                		for (var i = 0; i < row.length; i++) {
	    		    	                                                                                			textSdg += "<tr style='font-size:80%;'>";
	    		    	                                                                                			textSdg += "<td>"+(row[i][9]?row[i][9]:'')+"</td>";
	    		    	                                                                                			textSdg += "<td>"+(row[i][11]?row[i][11]:'')+"</td>";
	    		    	                                                                                			
	    		    	                                                                                			var dinamis=13;
	    		    	                                                                                			for(var y=monper_year[0];y<=monper_year[1];y++){
	    		    	                                                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+(row[i][dinamis]!=null?row[i][dinamis]:'')+"</td>";
	    		    	                                                                                        		dinamis = dinamis+1;
	    		    	                                                                                			}
	    		    	                                                                                			//textSdg += "<td>"+(row[i][12]?row[i][12]:'')+"</td>";
	    		    	                                                                                			textSdg += "<td>"+(row[i][10]?row[i][10]:'')+"</td>";
	    		    	                                                                                			textSdg += "<td>"+row[i][dinamis]+"</td>";
	    		    	                                                                                			textSdg += "</tr>";
	    		    	                                                                                		}
	    		    	                                                                                		textSdg += "</tbody></table></div>";
	    		    	                                                            	            	}
	    		    	                                                            	            }
	    		    	                                                            			});
	    		    		                                        	            		}
	    		    		                                        	            	}
	    		    		                                        	            }
	    		    		                                        			});
	    		    		                        	            		}
	    		    		                        	            	}
	    		    		                        	            }
	    		    		                        			});
	    		    		        	            		}
	    		    		        	            	}
	    		    		        	            }
	    		    		        			});
	    		    		            		
	    		    		        			//INDICATOR NON GOVERNMENT PROGRAM
	    		    		        			$.ajax({
	    		    		        	            url: urls + "get-mapping-indicator-nsaProg",
	    		    		        	            data: {'id_role':idrole,'id_indicator':id_indicator,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_target':id_target},
	    		    		        	            type: 'get',
	    		    		        	            dataType: 'json',
	    		    		        	            async : false,
	    		    		        	            success: function (hasilGoal1) {
	    		    		        	            	if(hasilGoal1.progGov.length>0){
	    		    		        	            		textSdg += "<div style='font-size:90%;'><b><u>Non Government Program</u></b></div>";
	    		    		        	            		for (var a = 0; a < hasilGoal1.progGov.length; a++) {
	    		    		        	            			var row = hasilGoal1.progGov;
	    		    		        	            			var id_program = row[a][0];
	    		    		        	            			var kode_program = row[a][4];
	    		    		                        			var nm_program;
	    		    		                        			var nm_activity;
	    		    		                        			if($('#fs').is(':checked')){
	    		    		                        				nm_program = row[a][2];
	    		    			                            	}else{
	    		    			                            		nm_program = row[a][3];
	    		    			                            	}
	    		    		                        			textSdg += "<div style='font-size:90%;'><span style='margin-right:20px'>Program</span>: "+kode_program+". "+nm_program+"</div>";
	    		    		                        			
	    		    		                        			$.ajax({
	    		    		                        	            url: urls + "get-mapping-indicator-nsaActivity",
	    		    		                        	            data: {'id_role':idrole,'id_indicator':id_indicator,'id_target':id_target,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_program':id_program},
	    		    		                        	            type: 'get',
	    		    		                        	            dataType: 'json',
	    		    		                        	            async : false,
	    		    		                        	            success: function (hasilGoal2) {
	    		    		                        	            	if(hasilGoal2.progGov.length>0){
	    		    		                        	            		for (var b = 0; b < hasilGoal2.progGov.length; b++) {
	    		    		                        	            			var row = hasilGoal2.progGov;
	    		    		                        	            			var id_activity = row[b][0];
	    		    		                        	            			var kode_activity = row[b][4];
	    		    		                                        			var nm_activity;
	    		    		                                        			if($('#fs').is(':checked')){
	    		    		                                        				nm_activity = row[b][2];
	    		    		                	                            	}else{
	    		    		                	                            		nm_activity = row[b][3];
	    		    		                	                            	}
	    		    		                                        			textSdg += "<div style='font-size:90%;'><span style='margin-right:25px'>Activity </span>: "+kode_program+"."+kode_activity+". "+nm_activity+"</div>";
	    		    		                                        			
	    		    		                                        			textSdg += "<div style='overflow-x:auto;'><table border='1' class='table table-striped table-bordered tabel-gov-ind-goal'><thead>";
	    		                                                        		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
	    		                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+bud+"</td>";
	    		                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+actor+"</td></tr>";
	    		                                                        		textSdg += "</thead><tbody>";
	    		                                                        		textSdg += "<tr style='font-size:80%;'>";
	    		                                                    			textSdg += "<td>"+(row[b][5]?row[b][5]:'')+"</td>";
	    		                                                    			textSdg += "<td>"+(row[b][6]?row[b][6]:'')+"</td>";
	    		                                                    			textSdg += "</tr>";
	    		                                                    			textSdg += "</tbody></table></div>";
	    		    		                                        			
	    		    		                                        			$.ajax({
	    		    		                                        	            url: urls + "get-mapping-indicator-nsaIndicator",
	    		    		                                        	            data: {'id_role':idrole,'id_indicator':id_indicator,'id_target':id_target,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'id_program':id_program,'id_activity':id_activity},
	    		    		                                        	            type: 'get',
	    		    		                                        	            dataType: 'json',
	    		    		                                        	            async : false,
	    		    		                                        	            success: function (hasilGoal3) {
	    		    		                                        	            	if(hasilGoal3.progGov.length>0){
	    		    		                                        	            		for (var c = 0; c < hasilGoal3.progGov.length; c++) {
	    		    		                                        	            			var row = hasilGoal3.progGov;
	    		    		                                        	            			var id_nsa_indicator = row[c][0];
	    		    		                                        	            			var kode_indicator = row[c][4];
	    		    		                                                        			var nm_indicator;
	    		    		                                                        			if($('#fs').is(':checked')){
	    		    		                                                        				nm_indicator = row[c][2];
	    		    		                                	                            	}else{
	    		    		                                	                            		nm_indicator = row[c][3];
	    		    		                                	                            	}
	    		    		                                                        			textSdg += "<div style='font-size:90%;'><span style='margin-right:20px'>Indicator</span>: "+kode_program+"."+kode_activity+"."+kode_indicator+". "+nm_indicator+"</div>";
	    		    		                                        	            			
	    		    		                                                        			$.ajax({
    			    	                                                            	            url: urls + "get-mapping-indicator-nsarelisasi",
    			    	                                                            	            data: {'id_role':idrole,'id_indicator':id_indicator,'id_target':id_target,'id_prov':idprov,'id_monper':id_monper,'id_goals':id_goals,'start_year':monper_year[0],'end_year':monper_year[1],'id_nsa_indicator':id_nsa_indicator},
    			    	                                                            	            type: 'get',
    			    	                                                            	            dataType: 'json',
    			    	                                                            	            async : false,
    			    	                                                            	            success: function (hasil) {
    			    	                                                            	            	//Non GOV
    			    	                                                            	            	var row = hasil.ranradGov;
    			    	                                                            	            	console.log(row);
    			    	                                                            	            	if(row.length>0){
    			    	                                                            	            		textSdg += "<div style='overflow-x:auto;'><table border='1' class='table table-striped table-bordered tabel-gov-ind-goal'><thead>";
    			    	                                                                            		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
    			    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+unit+"</td>";
    			    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+baseline+"</td>";
    			    	                                                                            		var spantarget = monper_year[1]-monper_year[0]+1;
    			    	                                                                            		textSdg += "<td colspan='"+spantarget+"' style='text-align:center;vertical-align:middle'>Target</td>";
    			    	                                                                            		//textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+bud+"</td>";
    			    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+fun+"</td>";
    			    	                                                                            		textSdg += "<td rowspan='2' style='text-align:center;vertical-align:middle'>"+actor+"</td></tr>";
    			    	                                                                            		textSdg += "<tr style='font-size:80%;color:white;background-color:blue;'>";
    			    	                                                                            		for(var y=monper_year[0];y<=monper_year[1];y++){
    			    	                                                                            			textSdg += "<td style='text-align:center;vertical-align:middle'><b>"+y+"</b></td>";
    			    	                                                                                		
    			    	                                                                                	}
    			    	                                                                            		textSdg += "</tr>";
    			    	                                                                            		textSdg += "</thead><tbody>";
    			    	                                                                            		//Indicaator Non GOV
    			    	                                                                                		//isinya
    			    	                                                                                		for (var i = 0; i < row.length; i++) {
    			    	                                                                                			textSdg += "<tr style='font-size:80%;'>";
    			    	                                                                                			textSdg += "<td>"+(row[i][9]?row[i][9]:'')+"</td>";
    			    	                                                                                			textSdg += "<td>"+(row[i][11]?row[i][11]:'')+"</td>";
    			    	                                                                                			
    			    	                                                                                			var dinamis=13;
    			    	                                                                                			for(var y=monper_year[0];y<=monper_year[1];y++){
    			    	                                                                                        		textSdg += "<td style='text-align:center;vertical-align:middle'>"+(row[i][dinamis]!=null?row[i][dinamis]:'')+"</td>";
    			    	                                                                                        		dinamis = dinamis+1;
    			    	                                                                                			}
    			    	                                                                                			//textSdg += "<td>"+(row[i][12]?row[i][12]:'')+"</td>";
    			    	                                                                                			textSdg += "<td>"+(row[i][10]?row[i][10]:'')+"</td>";
    			    	                                                                                			textSdg += "<td>"+row[i][dinamis]+"</td>";
    			    	                                                                                			textSdg += "</tr>";
    			    	                                                                                		}
    			    	                                                                                		textSdg += "</tbody></table></div>";
    			    	                                                            	            	}
    			    	                                                            	            }
    			    	                                                            			});
	    		    		                                        	            		}
	    		    		                                        	            	}
	    		    		                                        	            }
	    		    		                                        			});
	    		    		                        	            		}
	    		    		                        	            	}
	    		    		                        	            }
	    		    		                        			});
	    		    		        	            		}
	    		    		        	            	}
	    		    		        	            }
	    		    		        			});
	    		    		            	}
	    		    		            }
	    		        			});
	    		            	}
	    		            }
	            			});
	                	}
	                }
	            });
	            $('#indi').html(textSdg);
	        }
			
             $("#export").click(function(){
                 var data = $(this).attr("data");
                 var id_monper = [[${id_monper}]];
                 var url = data+"/"+id_monper;
                  window.open(url, '_blank');   
             });
             var tableToExcel = (function() {
                 var uri = 'data:application/vnd.ms-excel;base64,'
                 , template = '<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>'
                 , base64 = function(s) { return window.btoa(unescape(encodeURIComponent(s))) }
                 , format = function(s, c) { return s.replace(/{(\w+)}/g, function(m, p) { return c[p]; }) }
                 return function(table, name) {
                	 $('#indi').find('.disaggre_hide').hide();
                 if (!table.nodeType) table = document.getElementById(table)
                 var ctx = {worksheet: name || 'Worksheet', table: table.innerHTML}
                 window.location.href = uri + base64(format(template, ctx))
                 $('#indi').find('.disaggre_hide').show();
                 }
                 })()
		//});
		// ]]>
</script>
</html>